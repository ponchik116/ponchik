!function(){var n={6292:function(e,a,t){function n(){var e;try{e=a.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(a=e.exports=t(5765)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},a.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+a.humanize(this.diff),!t)return;t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,t)},a.save=function(e){try{null==e?a.storage.removeItem("debug"):a.storage.debug=e}catch(e){}},a.load=n,a.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},a.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),a.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],a.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},a.enable(n())},5765:function(e,l,t){var s;function n(e){function o(){if(o.enabled){var r=o,e=+new Date,t=e-(s||e);r.diff=t,r.prev=s,r.curr=e,s=e;for(var a=new Array(arguments.length),n=0;n<a.length;n++)a[n]=arguments[n];a[0]=l.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var i=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;i++;var n=l.formatters[t];return"function"==typeof n&&(t=a[i],e=n.call(r,t),a.splice(i,1),i--),e}),l.formatArgs.call(r,a),(o.log||l.log||console.log.bind(console)).apply(r,a)}}return o.namespace=e,o.enabled=l.enabled(e),o.useColors=l.useColors(),o.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return l.colors[Math.abs(n)%l.colors.length]}(e),"function"==typeof l.init&&l.init(o),o}(l=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},l.disable=function(){l.enable("")},l.enable=function(e){l.save(e),l.names=[],l.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?l.skips.push(new RegExp("^"+e.substr(1)+"$")):l.names.push(new RegExp("^"+e+"$")))},l.enabled=function(e){var t,n;for(t=0,n=l.skips.length;t<n;t++)if(l.skips[t].test(e))return!1;for(t=0,n=l.names.length;t<n;t++)if(l.names[t].test(e))return!0;return!1},l.humanize=t(8628),l.names=[],l.skips=[],l.formatters={}},1204:function(e){function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,n){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?i:o)(a,n),a.onload||i(a,n),r.appendChild(a)}},8628:function(e){var r=36e5,a=864e5;function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"==n&&0<e.length)return function(e){if(100<(e=String(e)).length)return;e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!e)return;var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"days":case"day":case"d":return t*a;case"hours":case"hour":case"hrs":case"hr":case"h":return t*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}(e);if("number"==n&&!1===isNaN(e))return t.long?i(t=e,a,"day")||i(t,r,"hour")||i(t,6e4,"minute")||i(t,1e3,"second")||t+" ms":function(e){if(a<=e)return Math.round(e/a)+"d";if(r<=e)return Math.round(e/r)+"h";if(6e4<=e)return Math.round(e/6e4)+"m";if(1e3<=e)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9438:function(e){"use strict";var
/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/
t=function(){var e={},a={};return e.on=function(e,t){t={name:e,handler:t};return a[e]=a[e]||[],a[e].unshift(t),t},e.off=function(e){var t=a[e.name].indexOf(e);-1!==t&&a[e.name].splice(t,1)},e.trigger=function(e,t){var n,r=a[e];if(r)for(n=r.length;n--;)r[n].handler(t)},e};e.exports=t},7771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1606),n=(r=a)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},5368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(6292)),s=a(n(1376)),l=a(n(7645)),c=a(n(7771));function a(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.default)("youtube-player"),r={};r.proxyEvents=function(r){var e={},t=!0,n=!1,a=void 0;try{for(var i,o=l.default[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)!function(t){var n="on"+t.slice(0,1).toUpperCase()+t.slice(1);e[n]=function(e){u('event "%s"',n,e),r.trigger(t,e)}}(i.value)}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return e},r.promisifyPlayer=function(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t={},n=!0,r=!1,i=void 0;try{for(var o,l=s.default[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)!function(r){e&&c.default[r]?t[r]=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return a.then(function(a){var i=c.default[r],e=a.getPlayerState(),t=a[r].apply(a,n);return i.stateChangeRequired||Array.isArray(i.acceptableStates)&&-1===i.acceptableStates.indexOf(e)?new Promise(function(n){function r(){var e=a.getPlayerState(),t=void 0;"number"==typeof i.timeout&&(t=setTimeout(function(){a.removeEventListener("onStateChange",r),n()},i.timeout)),Array.isArray(i.acceptableStates)&&-1!==i.acceptableStates.indexOf(e)&&(a.removeEventListener("onStateChange",r),clearTimeout(t),n())}a.addEventListener("onStateChange",r)}).then(function(){return t}):t})}:t[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.then(function(e){return e[r].apply(e,t)})}}(o.value)}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}return t},t.default=r,e.exports=t.default},1606:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},7645:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},1376:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},7640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=r(n(9438)),s=r(n(1341)),c=r(n(5368));function r(e){return e&&e.__esModule?e:{default:e}}var u=void 0;t.default=function(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=(0,l.default)();if(u=u||(0,s.default)(i),a.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof r&&!document.getElementById(r))throw new Error('Element "'+r+'" does not exist.');a.events=c.default.proxyEvents(i);var t=new Promise(function(n){"object"===(void 0===r?"undefined":o(r))&&r.playVideo instanceof Function?n(r):u.then(function(e){var t=new e.Player(r,a);return i.on("ready",function(){n(t)}),null})}),e=c.default.promisifyPlayer(t,e);return e.on=i.on,e.off=i.off,e},e.exports=t.default},1341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1204),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(r){return new Promise(function(e){var t,n;window.YT&&window.YT.Player&&window.YT.Player instanceof Function?e(window.YT):(t="http:"===window.location.protocol?"http:":"https:",(0,i.default)(t+"//www.youtube.com/iframe_api",function(e){e&&r.trigger("error",e)}),n=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){n&&n(),e(window.YT)})})},e.exports=t.default},2779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=l.apply(null,n))&&e.push(r);else if("object"==a)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var i in n)o.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},r={};function oo(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,oo),t.exports}oo.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return oo.d(t,{a:t}),t},oo.d=function(e,t){for(var n in t)oo.o(t,n)&&!oo.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},oo.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function d(e,t,n){return{name:"buttonClick",type:"buttonClick",context:Y,params:{btn:e,page:"shareLinkErrorDialog",linkType:"ExperienceInvite",linkId:t,linkStatus:n}}}var e,S,E=Roblox,a=oo.n(E),w=CoreUtilities,D=React,A=oo.n(D),o=ReactDOM,k=ReactStyleGuide,t=ReactUtilities,f=CoreRobloxUtilities,l={LabelSponsoredAd:"Label.SponsoredAd",LabelNoSearchResults:"LabelNoSearchResults",LabelPlayingOnePlusUsersWithComma:"LabelPlayingOnePlusUsersWithComma",LabelPlayingOneUser:"LabelPlayingOneUser",LabelBy:"LabelCreatorBy",LabelByPrefix:"Label.By"},n={LabelApiError:"Label.ApiError",LabelGames:"Label.Games",LabelSponsoredAdsDisclosureStatic:"Label.SponsoredAdsDisclosureStatic"},m={HeadingDescription:"Heading.Description",LabelAgeGuidelines:"Label.AgeGuidelines",LabelLearnMore:"Label.LearnMore",LabelBy:"Label.By",LabelPlaying:"Label.Playing",LabelFavorites:"Label.Favorites",LabelVisits:"Label.Visits",LabelCreated:"Label.Created",LabelUpdated:"Label.Updated",LabelMaxPlayers:"Label.MaxPlayers",LabelGenre:"Label.Genre",LabelAllowedGear:"Label.AllowedGear",LabelReportAbuse:"Label.ReportAbuse",LabelPlaceCopyingAllowed:"Label.PlaceCopyingAllowed",LabelVoiceEnabled:"Label.VoiceEnabled",LabelYes:"Label.Yes",LabelNo:"Label.No",LabelUnavailable:"Label.Unavailable",LabelSuitableForEveryone:"Label.SuitableForEveryone",LabelCommunication:"Label.Communication",LabelMicrophone:"Label.Microphone",LabelCamera:"Label.Camera",LabelNone:"Label.None",HeadingRecommendedGames:"Heading.RecommendedGames",ActionSwapToSource:"Action.SwapToSource",ActionSwapToTranslation:"Action.SwapToTranslation",ActionTranslate:"Action.Translate"},r="LabelGenreAll",i="LabelGenreAdventure",s="LabelGenreBuilding",c="LabelGenreComedy",u="LabelGenreFighting",v="LabelGenreFPS",p="LabelLabelGenreHorror",g="LabelGenreMedieval",b="LabelGenreMilitary",h="LabelGenreNaval",y="LabelGenreRPG",I="LabelGenreSciFi",P="LabelLabelGenreSports",x="LabelLabelGenreTownAndCity",T="LabelGenreWestern",N={HeadingCommunityTitle:"Heading.CommunityTitle",DescriptionCommunityDefault:"Description.CommunityDefault",LabelViewButton:"Label.ViewButton"},C={LabelAllGenreAllowed:"LabelAllGenreAllowed",LabelGearOnly:"LabelGearOnly",LabelNoGear:"LabelNoGear"},L={LabelInviteExpiredError:"Label.InviteExpiredError",LabelInviterNotHereError:"Label.InviterNotHereError",DescriptionInviteExpiredError:"Description.InviteExpiredError",DescriptionInviterNotHereError:"Description.InviterNotHereError",LabelCancel:"Label.Cancel",LabelPlay:"Label.Play"},R={common:["CommonUI.Controls","Feature.Catalog"],feature:"Feature.GameDetails"},G={common:[],feature:"Feature.GameGearOptionsDisplay"},O={common:["CommonUI.Controls"],feature:"Feature.GameDetails"},M={common:["Common.VisitGame"],feature:"Feature.SocialShare"},F=HeaderScripts,U=E.EnvironmentUrls.gamesApi,j={url:{getOmniRecommendations:function(e,t){return{url:U+"/v1/games/omni-recommendations?model.pageType="+e+(void 0!==t?"&model.sessionId="+t:""),withCredentials:!0}},getOmniRecommendationsMetadata:{url:U+"/v1/games/omni-recommendations-metadata",withCredentials:!0},getGameList:{url:U+"/v1/games/list",withCredentials:!0},getGamePasses:function(e,t){return{url:U+"/v1/games/"+e+"/game-passes?limit="+t,withCredentials:!0}},getGameRecommendations:function(e){return{url:U+"/v1/games/recommendations/game/"+e,withCredentials:!0}},getGameSorts:{url:U+"/v1/games/sorts",withCredentials:!0},getUniverseVoiceStatus:function(e){return{withCredentials:!0,url:E.EnvironmentUrls.voiceApi+"/v1/settings/universe/"+e}},getVoiceOptInStatus:{withCredentials:!0,url:E.EnvironmentUrls.voiceApi+"/v1/settings/user-opt-in"}},defaultCacheCriteria:{refreshCache:!1,expirationWindowMS:3e4,useCache:!0}},B=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},V=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},q=f.dataStores.gamesDataStore,H=(f.dataStores.userDataStoreV2,f.dataStores.localeDataStore),W=(f.dataStores.userDataStore.FriendsUserSortType,function(t){return B(void 0,void 0,Promise,function(){return V(this,function(e){switch(e.label){case 0:return[4,q.getGameDetails([t])];case 1:return[2,e.sent().data.data[0]]}})})}),z=function(t,n){return B(void 0,void 0,Promise,function(){return V(this,function(e){switch(e.label){case 0:return[4,w.httpService.get(j.url.getGameRecommendations(t),{maxRows:n})];case 1:return[2,e.sent().data]}})})},_=function(t){return B(void 0,void 0,Promise,function(){return V(this,function(e){switch(e.label){case 0:return[4,w.httpService.get(j.url.getUniverseVoiceStatus(t))];case 1:return[2,e.sent().data]}})})},J=function(n){return B(void 0,void 0,Promise,function(){var t;return V(this,function(e){switch(e.label){case 0:return[4,q.getPlaceDetails([n])];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},K=function(){return H.getUserLocale().then(function(e){return e.data}).then(function(e){var t;return null!==(t=null==e?void 0:e.ugc)&&void 0!==t?t:null==e?void 0:e.signupAndLogin})},Y="shareLinks",Q=((e={})[E.ShareLinks.ExperienceInviteStatus.EXPIRED]={Header:L.LabelInviteExpiredError,Description:L.DescriptionInviteExpiredError},e[E.ShareLinks.ExperienceInviteStatus.INVITER_NOT_IN_EXPERIENCE]={Header:L.LabelInviterNotHereError,Description:L.DescriptionInviterNotHereError},e),$="game-details-invite-link-expired-modal-container",X=function(){return document.getElementById($)},Z=(E.ShareLinks.ExperienceInviteStatus,(0,t.withTranslations)(function(e){var t=e.translate,n=e.linkId,r=e.linkStatus,a=e.placeId,i=e.universeId,o=(0,D.useState)(!0),l=o[0],s=o[1],e=(0,D.useState)(void 0),o=e[0],c=e[1];(0,D.useEffect)(function(){W(i).then(function(e){c(e)},function(){return!1})},[i]);function u(){return s(!1)}e=A().createElement("p",null,t(Q[r].Description,{experienceName:null==o?void 0:o.name}));return A().createElement(k.SimpleModal,{show:l,title:t(Q[r].Header),body:o&&e,loading:!o,actionButtonShow:!0,actionButtonText:t(L.LabelPlay),neutralButtonText:t(L.LabelCancel),onAction:function(){f.playGameService.launchGame(f.playGameService.buildPlayGameProperties(a,a),{eventName:"joinGameFromInviteLink",gamePlayIntentEventCtx:Y,ctx:Y,properties:{linkStatus:r,linkType:"ExperienceInvite",placeId:a,linkId:n}});var e=d("join",n,r);f.eventStreamService.sendEventWithTarget(e.type,e.context,e.params),u()},onClose:u,onNeutral:function(){var e=d("cancel",n,r);f.eventStreamService.sendEventWithTarget(e.type,e.context,e.params),u()}})},M));(M={})[M.Image=1]="Image",M[M.YouTubeVideo=33]="YouTubeVideo",M[M.Unknown=0]="Unknown",(M=S=S||{}).Image="Image",M.YouTubeVideo="YouTubeVideo",M.Place="Place",M[M.Unknown=0]="Unknown";var ee,M=oo(2779),te=oo.n(M),ne=RobloxThumbnails,M=oo(7640),re=oo.n(M),ae="game-details-carousel-container",ie="game-details-play-button-container",oe=function(){return document.getElementById(ae)},le={back:"Action.Back",next:"Action.Next"},se={delay:6e3},ce=function(e){return{width:768,height:432,videoId:e,host:"https://www.youtube-nocookie.com",playerVars:{cc_load_policy:1,modestbranding:1}}},ue=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},de=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function me(){return document.getElementById(Ce)}(M=ee=ee||{})[M.Unstarted=-1]="Unstarted",M[M.Ended=0]="Ended",M[M.Playing=1]="Playing",M[M.Paused=2]="Paused",M[M.Buffering=3]="Buffering",M[M.Cued=5]="Cued";var fe,ve,pe,ge=(0,D.forwardRef)(function(e,t){function n(e){switch(e.data){case ee.Playing:case ee.Buffering:o&&o(e);break;case ee.Paused:l&&l(e);break;case ee.Ended:s&&s(e)}}function r(e){var t;null!==(t=u.current)&&void 0!==t&&t.mute(),c&&c(e)}var a=e.id,i=e.className,o=e.onPlay,l=e.onPaused,s=e.onEnd,c=e.onReady,u=(0,D.useRef)(void 0);return(0,D.useImperativeHandle)(t,function(){return{pause:function(){var e;null!==(e=u.current)&&void 0!==e&&e.pauseVideo()},play:function(e){var t;void 0!==e&&null!==(t=u.current)&&void 0!==t&&t.seekTo(e,!0),null!==(e=u.current)&&void 0!==e&&e.playVideo()},getCurrentTime:function(){return ue(void 0,void 0,Promise,function(){var t;return de(this,function(e){switch(e.label){case 0:return[4,null===(t=u.current)||void 0===t?void 0:t.getCurrentTime()];case 1:return[2,e.sent()||-1]}})})},getDuration:function(){return ue(void 0,void 0,Promise,function(){var t;return de(this,function(e){switch(e.label){case 0:return[4,null===(t=u.current)||void 0===t?void 0:t.getDuration()];case 1:return[2,e.sent()||-1]}})})}}}),(0,D.useEffect)(function(){return u.current=re()(a,ce(a)),u.current.on("stateChange",n),u.current.on("ready",r),function(){var e;null!==(e=u.current)&&void 0!==e&&e.destroy()}},[]),A().createElement("div",{className:i},A().createElement("div",{id:a}))}),be=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},he=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ye=(0,D.forwardRef)(function(e,t){function c(){h.current&&Object.values(h.current).forEach(function(e){e.pause()})}function n(s){return be(void 0,void 0,void 0,function(){var t,n,r,a,i,o,l;return he(this,function(e){switch(e.label){case 0:return(null!=s&&s.preventDefault(),c(),t=(b.current+1)%u.length,d(t),b.current=t,y(),u[t].type!==S.YouTubeVideo)?[3,3]:(n=null===(l=h.current)||void 0===l?void 0:l[t],l=(a=Math).ceil,[4,n.getDuration()]);case 1:return r=l.apply(a,[e.sent()]),o=(i=Math).ceil,[4,n.getCurrentTime()];case 2:((i=o.apply(i,[e.sent()]))<=0||r<=i)&&b.current===t&&n.play(0),e.label=3;case 3:return[2]}})})}function r(e){null!=e&&e.preventDefault(),c(),e=b.current-1<0?u.length-1:b.current-1,d(e),b.current=e,y()}function a(){g.current&&clearTimeout(g.current)}var u=e.items,i=e.delay,o=e.translate,l=(0,D.useState)(0),s=l[0],d=l[1],e=(0,D.useState)(!1),l=e[0],m=e[1],f=(0,D.useRef)(!1),e=(0,D.useState)(!1),v=e[0],p=e[1],g=(0,D.useRef)(void 0),b=(0,D.useRef)(s),h=(0,D.useRef)({}),y=function(){a(),v||f.current||(g.current=setTimeout(function(){n()},i))};(0,D.useEffect)(function(){var e;return y(),null!==(e=document.getElementById(ie))&&void 0!==e&&e.addEventListener("click",c),function(){var e;a(),null!==(e=document.getElementById(ie))&&void 0!==e&&e.removeEventListener("click",c)}},[]),(0,D.useImperativeHandle)(t,function(){return{start:y,stop:a,next:n,back:r}});t=function(e){e.stopPropagation()};return A().createElement("div",{"data-testid":"carousel",onFocus:function(){m(!0),f.current=!0,a()},onBlur:function(){m(!1),f.current=!1,y()},onMouseEnter:function(){m(!0),f.current=!0,a()},onMouseLeave:function(){m(!1),f.current=!1,y()}},1<u.length&&A().createElement(A().Fragment,null,A().createElement(k.Button,{className:te()("carousel-controls","carousel-controls-left",{"carousel-controls-visible":l}),onClick:r,onBlur:t,"aria-label":o(le.back)},A().createElement("span",{className:"icon-carousel-left"})),A().createElement(k.Button,{className:te()("carousel-controls","carousel-controls-right",{"carousel-controls-visible":l}),onClick:n,onBlur:t,"aria-label":o(le.next)},A().createElement("span",{className:"icon-carousel-right"}))),u.map(function(e,t){switch(e.type){case S.Image:case S.Place:return A().createElement(ne.Thumbnail2d,{key:e.assetId,type:e.type===S.Image?ne.ThumbnailTypes.assetThumbnail:ne.ThumbnailTypes.gameThumbnail,size:ne.ThumbnailUniverseThumbnailSize.width768,targetId:e.assetId,altName:e.altText,containerClass:te()("carousel-item",{"carousel-item-active":t===s,"carousel-item-active-out":t===(s-1<0?u.length-1:s-1)||t===(s+1)%u.length})});case S.YouTubeVideo:return A().createElement(ge,{ref:function(e){e&&(h.current[t]=e)},id:e.videoHash,key:e.videoHash,className:te()("carousel-item","carousel-video",{"carousel-item-active":t===s,"carousel-item-active-out":t===(s-1<0?u.length-1:s-1)||t===(s+1)%u.length}),onPlay:function(){a(),p(!0)},onPaused:function(){y(),p(!1)},onEnd:function(){n(),p(!1)},onReady:function(){var e;0===t&&b.current===t&&null!==(e=h.current)&&void 0!==e&&e[t].play(0)}});default:return null}}))}),Se=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Ee=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},we=f.dataStores.gamesDataStore,Ie={},Pe=function(n){return Se(void 0,void 0,Promise,function(){var t;return Ee(this,function(e){switch(e.label){case 0:return Ie[n]?[2,Ie[n]]:[4,we.getUniverseMedia(n)];case 1:return t=e.sent().data.data,t=(void 0===t?[]:t).filter(function(e){return e.approved}).map(function(e){switch(e.assetType){case S.Image:return{type:e.assetType,assetId:e.imageId,altText:e.altText};case S.YouTubeVideo:return{type:e.assetType,videoHash:e.videoHash};default:return{type:S.Unknown,assetId:0}}}).filter(function(e){return e.type!==S.Unknown}),[2,Ie[n]=t]}})})},xe=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Te=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ne=(0,t.withTranslations)(function(e){var t=e.translate,n=e.placeId,r=e.universeId,a=e.delay,i=(0,D.useState)(void 0),e=i[0],o=i[1];return(0,D.useEffect)(function(){xe(void 0,void 0,void 0,function(){var t;return Te(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Pe(r)];case 1:return t=e.sent(),o(t),[3,3];case 2:return e.sent(),o([]),[3,3];case 3:return[2]}})})},[r]),void 0===e?A().createElement("div",{className:"shimmer","data-testid":"loading"}):0===e.length?A().createElement(ye,{translate:t,delay:a,items:[{type:S.Place,assetId:parseInt(n,10)}]}):A().createElement(ye,{translate:t,delay:a,items:e})},O),Ce="game-detail-meta-data",Le=function(){var e,r=(null===(e=me())||void 0===e?void 0:e.dataset)||{};return Object.keys(r).reduce(function(e,t){var n=r[t].toLowerCase();return e[t]="true"===n||"false"!==n&&r[t],e},{})};function De(e){return{PowerUps:"PowerUp",Music:"Musical",PersonalTransport:"Transport"}[e]||e}function Ae(e,n){return e.filter(function(e){var t;return(null===(t=e.presence)||void 0===t?void 0:t.universeId)===n&&(null===(e=e.presence)||void 0===e?void 0:e.userPresenceType)===E.Presence.PresenceTypes.InGame})}function ke(e,t){var n=0;if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e&&0===t)return;n=0===e&&0!==t?0:0!==e&&0===t||100<(n=Math.floor(e/(e+t)*100))?100:n}return n}function Re(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ge(e){var t=e.split(/([A-Z][a-z]*)/g);return 1===t.length?e:Re(t.filter(function(e){return 0!==e.length}).join(" "))}function Oe(n){return Object.keys(n).reduce(function(e,t){return"object"==typeof n[t]&&n[t]&&(e[t]=JSON.stringify(n[t])),"number"==typeof n[t]&&(e[t]=n[t]),"string"==typeof n[t]&&(e[t]=encodeURIComponent(n[t])),"boolean"==typeof n[t]&&(e[t]=n[t]?1:0),e},{})}function Me(t,e){var n;return e.some(function(e){return null===(e=t[e])||void 0===e?void 0:e.isSponsored})?((n={})[Ke.AdsPositions]=e.map(function(e){return t[e].isSponsored?1:0}),n[Ke.AdFlags]=e.map(function(e){return t[e].isSponsored?1:0}),n[Ke.AdIds]=e.map(function(e){return(null===(e=t[e])||void 0===e?void 0:e.nativeAdData)||"0"}),n):{}}(O={}).Game="Game",O.CatalogAsset="CatalogAsset",O.CatalogBundle="CatalogBundle",(O=ln=ln||{}).Carousel="Carousel",O.AvatarCarousel="AvatarCarousel",O.SortlessGrid="SortlessGrid",O.FriendCarousel="FriendCarousel",(O={}).Sponsored="Sponsored",O.SponsoredGame="SponsoredGame",(O=fe=fe||{}).AppGameTileNoMetadata="AppGameTileNoMetadata",O.GridTile="GridTile",O.EventTile="EventTile",(O=ve=ve||{}).Always="Always",O.Hover="Hover",(pe=pe||{}).Disabled="Disabled";var Fe,Ue=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},je=(new E.Intl).getDateTimeFormatter(),O=w.urlService.parseQueryString,Be=w.numberFormat.getNumberFormat,Ve={capitalize:Re,humanizeCamelCase:Ge,parseEventParams:Oe,getInGameFriends:Ae,getVotePercentageValue:ke,getVotePercentage:function(e,t){t=ke(e,t);return void 0!==t?t+"%":void 0},getPlayerCount:function(e){return-1===e?"--":w.abbreviateNumber.getAbbreviatedValue(e)},getGearIconName:De,getNumberFormat:Be,dateTimeFormatter:je,parseQueryString:O,composeQueryString:function(e){e=w.urlService.composeQueryString(e);return e?"?"+e:""},getSponsoredAdImpressionsData:Me,getThumbnailAssetIdImpressionsData:function(t,e,n){return n===fe.GridTile||n===fe.EventTile?((n={})[Ke.ThumbnailAssetIds]=e.map(function(e){return null!==(e=null===(e=t[e].primaryMediaAsset)||void 0===e?void 0:e.wideImageAssetId)&&void 0!==e?e:"0"}),n):{}},calculateImpressedIndexes:function(e,n){if(void 0===e)return Array.from(new Array(n[1]-n[0]+1),function(e,t){return t+n[0]});var r=n[0]<e[0]?[n[0],e[0]]:void 0,a=n[1]>e[1]?[e[1],n[1]]:void 0,t=r?new Array(r[1]-r[0]).fill(0).map(function(e,t){return t+r[0]}):[],e=a?new Array(a[1]-a[0]).fill(0).map(function(e,t){return t+a[0]+1}):[];return Ue(Ue([],t),e)},splitArray:function(n,r){if(0===n.length||0===r)return[n];var e=Math.ceil(n.length/r);return new Array(e).fill(0).map(function(e,t){return n.slice(t*r,(t+1)*r)})},GAME_STATS_PLACEHOLDER_STRING:"--"},qe="robloxAttributionIds";function He(e){var t=window,n=t[qe];return n||(n={},t[qe]=n),(t=n[e])||(t=w.uuidService.generateRandomUuid(),n[e]=t),t}(Fe=Fe||{}).GameDetailReferral="gameDetailReferral";var We,ze=He;function _e(e,t){return t={id:e,RedirectUrl:encodeURIComponent(f.entityUrl.game.getRelativePath(e)+"/"+w.seoName.formatSeoName(t))},w.urlService.getUrlWithQueries("/abusereport/asset",t)}function Je(){return document.referrer}(O=We=We||{}).SearchPage="searchPage",O.SortDetailPageDiscover="sortDetailPageDiscover",O.SortDetailPageHome="sortDetailPageHome",O.GameDetailPage="gameDetailPage",O.GamesPage="gamesPage",O.HomePage="homePage",O.PeopleListInHomePage="peopleListInHomePage";var Ke,Ye,Qe,$e=function(e,t,n){return void 0===n&&(n={}),w.urlService.getUrlWithQueries(f.entityUrl.game.getRelativePath(e)+"/"+w.seoName.formatSeoName(t),n)},Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ze=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n},et=(O=f.eventStreamService.eventTypes).pageLoad,tt=O.formInteraction;function nt(e){e instanceof SyntaxError&&window.sessionStorage.removeItem(it)}(O=Ke=Ke||{}).AbsPositions="absPositions",O.AdsPositions="adsPositions",O.AdFlags="adFlags",O.Algorithm="algorithm",O.AttributionId="attributionId",O.Direction="direction",O.Distance="distance",O.HttpReferrer="httpReferrer",O.EmphasisFlag="emphasisFlag",O.GameSetTargetId="gameSetTargetId",O.GameSetTypeId="gameSetTypeId",O.IsAd="isAd",O.NativeAdData="nativeAdData",O.AdIds="adIds",O.NumberOfLoadedTiles="numberOfLoadedTiles",O.Page="page",O.PageSession="pageSession",O.PlaceId="placeId",O.Position="position",O.RootPlaceIds="rootPlaceIds",O.ScreenSizeX="screenSizeX",O.ScreenSizeY="screenSizeY",O.ScrollAreaSize="scrollAreaSize",O.ScrollDepth="scrollDepth",O.SortId="sortId",O.SortPos="sortPos",O.StartDepth="startDepth",O.StartPos="startPos",O.SuggestionKwd="suggestionKwd",O.SuggestionReplacedKwd="suggestionReplacedKwd",O.SuggestionCorrectedKwd="suggestionCorrectedKwd",O.SuggestionAlgorithm="suggestionAlgorithm",O.Topics="topics",O.TreatmentType="treatmentType",O.UniverseId="universeId",O.UniverseIds="universeIds",O.FriendId="friendId",O.ThumbnailAssetIds="thumbnailAssetIds",O.LinkPath="linkPath",O.RowsOnPage="rowsOnPage",O.PositionsInRow="positionsInRow",(O=Ye=Ye||{}).GameImpressions="gameImpressions",O.GameDetailReferral="gameDetailReferral",O.SortDetailReferral="sortDetailReferral",O.FeedScroll="feedScroll",O.NavigateToSortLink="navigateToSortLink",(O=Qe=Qe||{}).HomePageSessionInfo="homePageSessionInfo",O.GameSearchSessionInfo="gameSearchSessionInfo",O.DiscoverPageSessionInfo="discoverPageSessionInfo",(O={}).Horizontal="horizontal",O.Vertical="vertical";var rt=((O={})[Ye.GameImpressions]=function(e){e=Ze(e,[]);return[{name:Ye.GameImpressions,type:Ye.GameImpressions,context:tt},Oe(Xe({},e))]},O[Ye.GameDetailReferral]=function(e){var t;return void 0===e&&(e={}),[{name:Ye.GameDetailReferral,type:Ye.GameDetailReferral,context:et},Oe(Xe(((t={})[Ke.AttributionId]=He(Fe.GameDetailReferral),t[Ke.HttpReferrer]=Je(),t),e))]},O[Ye.SortDetailReferral]=function(e){return void 0===e&&(e={}),[{name:Ye.SortDetailReferral,type:Ye.SortDetailReferral,context:et},Oe(Xe({},e))]},O[Ye.NavigateToSortLink]=function(e){return void 0===e&&(e={}),[{name:Ye.NavigateToSortLink,type:Ye.NavigateToSortLink,context:tt},Oe(Xe({},e))]},O),at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},it="eventTracker",ot=function(e){try{var t=JSON.parse(window.sessionStorage.getItem(it)||"{}"),t=at(at({},t),e);return window.sessionStorage.setItem(it,JSON.stringify(t)),!0}catch(e){return nt(e),!1}},lt=function(){return(lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},st=Ve.parseQueryString,ct=Ve.composeQueryString,ut=function(r,a,i,o,l,s){void 0===o&&(o={}),void 0===l&&(l=window.location),void 0===s&&(s=window.history);var e=(0,D.useState)(st(l.search)),t=e[0],c=e[1];return(0,D.useEffect)(function(){var n,e,t;n=st(l.search),e=a.reduce(function(e,t){return void 0===n[t]&&null===n[t]||(e[t]=n[t]),e},{}),!(t=i.reduce(function(e,t){return void 0===n[t]&&null===n[t]||(e[t]=n[t]),e},{})).launchData&&t.placeId&&delete t.placeId,c(e),ot(e),void 0!==s.replace&&s.replace(""+l.pathname+ct(t)),void 0!==s.replaceState&&s.replaceState(void 0,"",""+l.pathname+l.hash+ct(t)),f.eventStreamService.sendEvent.apply(f.eventStreamService,r(lt(lt({},e),o)))},[]),t},dt=E.PlayButton.usePlayabilityStatus,mt=E.PlayButton.DefaultPlayButton;function ft(){var e=Le()||{},t=e.universeId,n=void 0===t?"":t,r=e.rootPlaceId,a=void 0===r?"":r,i=e.privateServerLinkCode,o=void 0===i?"":i,l=e.gameInstanceId,t=void 0===l?"":l,r=dt(n),i=r[0],e=r[1],l=He(Fe.GameDetailReferral),r=ut(rt.gameDetailReferral,[Ke.IsAd,Ke.Page,Ke.PlaceId,Ke.UniverseId,Ke.SortPos,Ke.Position,Ke.GameSetTypeId,Ke.GameSetTargetId,Ke.FriendId,Ke.NumberOfLoadedTiles,Qe.DiscoverPageSessionInfo,Qe.HomePageSessionInfo,Qe.GameSearchSessionInfo],["privateServerLinkCode","placeId","launchData","gameInstanceId"],((r={})[Ke.PlaceId]=a,r[Ke.UniverseId]=n,r));return A().createElement(mt,{placeId:a,rootPlaceId:a,universeId:n,privateServerLinkCode:o,gameInstanceId:t,refetchPlayabilityStatus:e,playabilityStatus:i,eventProperties:((i={})[Qe.DiscoverPageSessionInfo]=r.discoverPageSessionInfo,i[Qe.GameSearchSessionInfo]=r.gameSearchSessionInfo,i[Qe.HomePageSessionInfo]=r.homePageSessionInfo,i[Ke.AttributionId]=l,i[Ke.Page]=r.page,i[Ke.SortPos]=r.sortPos,i[Ke.GameSetTypeId]=r.gameSetTypeId,i[Ke.UniverseId]=n,i)})}function vt(e){return e=e.descriptionText,A().createElement("pre",{className:"text game-description"},null==e?void 0:e.split(w.regex.url).map(function(e,t){return-1<e.search(w.regex.url)?A().createElement("a",{key:t,"data-testid":"game-description-link",className:"text-link",href:e},e):e}))}function pt(e){var t=e.name,n=e.sourceName,r=e.description,a=e.sourceDescription,i=e.translate,o=A().useState(!1),l=o[0],s=o[1],c=(e=A().useState(void 0))[0],u=e[1];return(0,D.useEffect)(function(){K().then(function(e){null!=e&&e.nativeName&&u(e.nativeName)}).catch(function(){})},[]),o=A().useMemo(function(){return t&&n&&t!==n||r&&a&&r!==a},[t,n,r,a]),(0,D.useEffect)(function(){if(t&&n&&t!==n)try{var e=document.querySelector(".game-title-container");!e||(e=e.querySelector("h1"))&&(e.textContent=l?n:t)}catch(e){}},[l,t,n]),e=(0,D.useMemo)(function(){return l?c?i(m.ActionSwapToTranslation,{userLanguage:c}):i(m.ActionTranslate)||"Translate":i(m.ActionSwapToSource)},[l,c,i]),A().createElement(A().Fragment,null,A().createElement(vt,{descriptionText:l?a:r}),o&&A().createElement("div",{role:"button",tabIndex:0,className:"toggle-translation-button","data-testid":"swap-to-source-button",onClick:function(){return s(!l)},onKeyDown:function(e){e.key===yt.keyBoardEventCode.enter&&(e.stopPropagation(),e.preventDefault(),s(!l))}},A().createElement("span",{className:"swap-translated-content font-bold"},e),A().createElement("span",{className:"icon-common-refresh"})))}function gt(e){var t=e.universeVoiceStatus,n=e.translate,e=t.isUniverseEnabledForVoice,t=t.isUniverseEnabledForAvatarVideo;return A().createElement("ul",{className:"text-lead text-overflow chat-feature-list"},e&&A().createElement("li",{className:"chat-feature-list-item"},A().createElement("p",{id:"microphone-enabled-label",className:"text-lead font-caption-body"},A().createElement("span",{className:"chatfeatures icon-voice-mic-unmuted-16x16-hover"}),n(m.LabelMicrophone))),t&&A().createElement("li",{className:"chat-feature-list-item"},A().createElement("p",{id:"camera-enabled-label",className:"text-lead font-caption-body"},A().createElement("span",{className:"chatfeatures icon-default-camera"}),n(m.LabelCamera))),!e&&!t&&A().createElement("li",null,A().createElement("p",{id:"enabled-chat-features-label",className:"text-lead font-caption-body"},n(m.LabelNone))))}function bt(e){var t=e.valueText,e=e.id;return A().createElement("p",{className:"text-lead font-caption-body",id:e},t)}var ht={maxTilesPerCarouselPage:6,voiceLabelIndex:3,visitsTruncationDigitsAfterDecimalPoint:1},yt={maxTilesInGameImpressionsEvent:25,gameImpressionsIntersectionThreshold:.5,numberOfInGameAvatarIcons:3,numberOfInGameNames:1,maxFacepileFriendCountValue:99,numberOfGameTilesPerLoad:60,numberOfGamePassesPerLoad:50,keyBoardEventCode:{enter:"Enter"},RatingPercentageText:"Label.RatingPercentage"},St={maxTilesPerCarouselPage:6,maxWideGameTilesPerCarouselPage:4,minWideGameTilesPerCarouselPage:2,gameTileWidth:150,homeFeedMaxWidth:970,wideGameTileTilesPerRowBreakpointWidth:738,sortlessGridMaxTilesMetadataToFetch:300,adSortHomePageId:4e8,topicIdsWithoutSeeAll:[5e8,500000001],friendsCarouselAngularBootstrapErrorEvent:"HomePageFriendsCarouselBootstrapError",missingNumberOfRowsForLoggingErrorEvent:"HomePageMissingNumberOfRowsForLoggingError"},Et=ht,wt=(0,t.withTranslations)(function(e){var t=e.genre,n=e.isGenreEnforced,r=e.isAllGenre,a=e.allowedGearCategories,i=e.translate;return A().createElement(A().Fragment,null,0<a.length&&n&&r?A().createElement(k.Tooltip,{placement:"bottom",id:i(C.LabelAllGenreAllowed),content:i(C.LabelAllGenreAllowed)},A().createElement("span",{className:"icon-allgears"})):0<a.length&&n?A().createElement(k.Tooltip,{placement:"bottom",id:i(C.LabelGearOnly,{GearName:Ge(t)}),content:i(C.LabelGearOnly,{GearName:Ge(t)})},A().createElement("span",{className:"icon-partialgears"})):0===a.length?A().createElement(k.Tooltip,{placement:"bottom",id:i(C.LabelNoGear),content:i(C.LabelNoGear)},A().createElement("span",{className:"icon-nogear"})):void 0,a.map(function(e){return A().createElement(k.Tooltip,{key:e,placement:"bottom",id:Ge(e),content:Ge(e)},A().createElement("span",{className:"icon-"+De(e)}))}))},G);function It(e){var t,n=e.gameDetails,r=e.universeVoiceStatus,a=e.translate,e=[{label:a(m.LabelPlaying),value:A().createElement(bt,{valueText:Be(n.playing)})},{label:a(m.LabelFavorites),value:A().createElement(bt,{valueText:Be(n.favoritedCount)})},{label:a(m.LabelVisits),value:A().createElement(bt,{valueText:w.abbreviateNumber.getTruncValue(n.visits,void 0,void 0,ht.visitsTruncationDigitsAfterDecimalPoint),id:"game-visits-count"})},{label:a(m.LabelCreated),value:A().createElement(bt,{valueText:je.getShortDate(n.created)})},{label:a(m.LabelUpdated),value:A().createElement(bt,{valueText:je.getShortDate(n.updated)})},{label:a(m.LabelMaxPlayers),value:A().createElement(bt,{valueText:Be(n.maxPlayers)})},{label:a(m.LabelGenre),value:A().createElement(bt,{valueText:(t=n.genre)in xt&&a(xt[t])?a(xt[t]):t})},{label:a(m.LabelAllowedGear),value:A().createElement(bt,{valueText:A().createElement(wt,{genre:n.genre,isGenreEnforced:n.isGenreEnforced,isAllGenre:n.isAllGenre,allowedGearCategories:n.allowedGearCategories})})}];return(r.isUniverseEnabledForVoice||r.isUniverseEnabledForAvatarVideo)&&(r={label:a(m.LabelCommunication),value:A().createElement(gt,{universeVoiceStatus:r,translate:a})},e.splice(ht.voiceLabelIndex,0,r)),A().createElement("ul",{className:"border-top border-bottom game-stat-container"},e.map(function(e){return A().createElement("li",{key:e.label,className:"game-stat"},A().createElement("p",{className:"text-label text-overflow font-caption-header"},e.label),e.value)}))}function Pt(e){var t=e.placeId,n=e.name,r=e.copyingAllowed,e=e.translate;return A().createElement("div",{className:"game-description-footer"},r&&A().createElement("p",{className:"text-pastname"},e(m.LabelPlaceCopyingAllowed)),A().createElement(k.Link,{className:"text-report",url:_e(t,n)},e(m.LabelReportAbuse)))}bt.defaultProps={id:void 0};var xt={All:r,Adventure:i,Building:s,Comedy:c,Fighting:u,FPS:v,Horror:p,Medieval:g,Military:b,Naval:h,RPG:y,"Sci-Fi":I,Sports:P,"Town and City":x,Western:T},Tt=E.EnvironmentUrls.apiGatewayUrl,Nt=function(e){return w.urlService.getUrlWithLocale("/info/age-recommendations-policy",e)},Ct=function(){return Tt+"/experience-guidelines-api/experience-guidelines/get-age-recommendation"},Lt=function(e){var t={url:Ct(),retryable:!0,withCredentials:!0},e={universeId:e};return w.httpService.post(t,e)},G={common:[],feature:"Feature.GameDetails"},Dt="Suitable for everyone",At="Age Guidelines",kt="N/A",Rt="Label.AgeGuidelines",Gt="Label.Unavailable",Ot="Label.ContainsStrongLanguageWarningWithGuideline",Mt=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Ft=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ut=function(e){return Tt+"/asset-text-filter-settings/public/universe/"+e},jt=function(n){return Mt(void 0,void 0,Promise,function(){var t;return Ft(this,function(e){switch(e.label){case 0:return t={url:Ut(n),retryable:!0,withCredentials:!0},[4,w.httpService.get(t)];case 1:return[2,e.sent().data]}})})},Bt=E.EnvironmentUrls.apiGatewayUrl,Vt={getExperimentationValues:function(e,t,n){return{url:Bt+"/product-experimentation-platform/v1/projects/"+e+"/layers/"+t+"/values?parameters="+n.join(","),withCredentials:!0}}},r={homePage:{},homePageWeb:{},serverTab:{ShouldDisableJoinButtonForFullServers:!1},gameDetails:{ShouldHidePrivateServersInAboutTab:!1,IsGameStorePreviewEnabled:!1},gameDetailsExposure:{IsShowContainsStrongLanguageWarningEnabled:!1},searchPage:{ShouldUseOmniSearchAPI:!1},discoverPage:{}},i={homePage:"PlayerApp.HomePage.UX",homePageWeb:"Website.Homepage",serverTab:"GameDetails.ServersTab",gameDetails:"Website.GameDetails",gameDetailsExposure:"PlayerApp.GameDetailsPage.Exposure",searchPage:"Website.SearchResultsPage",discoverPage:"Website.GamesPage"},s=E.EnvironmentUrls.apiGatewayUrl,qt=function(){return(qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ht=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Wt=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},zt=function(r,a,i){return void 0===i&&(i=1),Ht(void 0,void 0,Promise,function(){var n,t;return Wt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,w.httpService.get(Vt.getExperimentationValues(i,r,Object.keys(a)))];case 1:return n=e.sent().data,t=Object.keys(n).reduce(function(e,t){return null!==n[t]&&(e[t]=n[t]),e},{}),[2,qt(qt({},a),t)];case 2:return e.sent(),[2,a];case 3:return[2]}})})},_t=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Jt=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Kt=i,Yt=r,Qt=(0,t.withTranslations)(function(e){var t=e.isDisplayAgeRecommendationDetails,n=e.translate,r=(0,D.useState)(!1),a=r[0],i=r[1],o=(0,D.useState)(!1),l=(o[0],o[1]),s=(0,D.useState)(!1),c=s[0],u=s[1],e=(0,D.useState)(!1),r=e[0],d=e[1],o=(0,D.useState)(!1),s=o[0],m=o[1],e=(0,D.useState)(null),o=e[0],f=e[1],e=(Le()||{}).universeId,v=void 0===e?"":e,p=(0,D.useCallback)(function(){return _t(void 0,void 0,void 0,function(){var t;return Jt(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,zt(Kt.gameDetailsExposure,Yt.gameDetailsExposure)];case 1:return t=e.sent(),t=!0===(null==t?void 0:t.IsShowContainsStrongLanguageWarningEnabled),u(t),t?[4,jt(v)]:[3,3];case 2:t=e.sent(),m(!0===(null==t?void 0:t.Profanity)),e.label=3;case 3:return[3,5];case 4:return e.sent(),u(!1),m(!1),[3,5];case 5:return[2]}})})},[v]),g=(0,D.useCallback)(function(){return _t(void 0,void 0,void 0,function(){var t,n;return Jt(this,function(e){switch(e.label){case 0:i(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,Lt(v)];case 2:return(t=e.sent(),n=t.data,null==(null===(t=n.ageRecommendationDetails)||void 0===t?void 0:t.summary.ageRecommendation))?(f(null),[2]):(t=(t=null===(t=n.ageRecommendationDetails.descriptorUsages)||void 0===t?void 0:t.map(function(e){return e.descriptor.displayName}).join(", "))||(0===n.ageRecommendationDetails.summary.ageRecommendation.minimumAge?Dt:""),t={descriptorDisplayNames:t,ageRecommendationBracket:n.ageRecommendationDetails.summary.ageRecommendation.displayName},f(t),n=null===(n=n.ageRecommendationDetails.descriptorUsages)||void 0===n?void 0:n.find(function(e){return"strong-language"===e.name}),d(!0===(null==n?void 0:n.contains)),[3,5]);case 3:return e.sent(),l(!0),f(null),d(!1),[3,5];case 4:return i(!1),[7];case 5:return[2]}})})},[v]),b=(0,D.useCallback)(function(){return _t(void 0,void 0,void 0,function(){return Jt(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,4,5]),i(!0),[4,g()];case 1:return e.sent(),[4,p()];case 2:return e.sent(),[3,5];case 3:return e.sent(),l(!0),f(null),u(!1),m(!1),d(!1),[3,5];case 4:return i(!1),[7];case 5:return[2]}})})},[g,p]);(0,D.useEffect)(function(){b()},[b]);e=(new E.Intl).getRobloxLocale();if(t){if(o)return A().createElement("div",{className:"age-rating-details col-xs-12 section-content"},A().createElement("a",{className:"age-rating-age-bracket text-lead text-link",href:Nt(e)},o.ageRecommendationBracket),A().createElement("span",{className:"age-rating-display-name text"},o.descriptorDisplayNames));if(!a)return A().createElement("div",{className:"age-rating-details col-xs-12 section-content"},A().createElement("a",{className:"age-rating-age-bracket text-lead text-link",href:Nt(e)},null!==(e=n(Rt))&&void 0!==e?e:At),A().createElement("span",{className:"age-rating-display-name text"},null!==(e=n(Gt))&&void 0!==e?e:kt))}if(c&&o&&(s||r)){n=n(Ot,{guideline:o.ageRecommendationBracket});return A().createElement("a",{className:"age-recommendation-title text",href:"#game-age-recommendation-details"},""!==n?n:o.ageRecommendationBracket)}return o?A().createElement("a",{className:"age-recommendation-title text",href:"#game-age-recommendation-details-container"},o.ageRecommendationBracket):A().createElement(A().Fragment,null)},G),$t=E.EnvironmentUrls.apiGatewayUrl;function Xt(e){var t=e.universeId,n=e.placeId,r=e.translate,a=(o=(0,D.useState)(void 0))[0],i=o[1],o=(e=(0,D.useState)(void 0))[0],l=e[1];return(0,D.useEffect)(function(){W(t).then(function(e){return i(e)}).catch(function(){}),_(t).then(function(e){return l(e)}).catch(function(){return l({isUniverseEnabledForVoice:!1,isUniverseEnabledForAvatarVideo:!1})})},[t]),void 0===a||void 0===o?A().createElement(k.Loading,null):A().createElement("div",{className:"game-description-container"},A().createElement("div",{className:"container-header"},A().createElement("h2",null,r(m.HeadingDescription))),A().createElement(pt,{name:a.name,sourceName:a.sourceName,description:a.description,sourceDescription:a.sourceDescription,translate:r}),A().createElement("div",{id:"game-age-recommendation-details-container",className:"game-age-recommendation-details-container"},A().createElement(Qt,{isDisplayAgeRecommendationDetails:!0})),A().createElement("div",{className:"game-community-link-display-container"},A().createElement(on,null)),A().createElement(It,{gameDetails:a,universeVoiceStatus:o,translate:r}),A().createElement(Pt,{placeId:n,name:a.name,copyingAllowed:a.copyingAllowed,translate:r}))}var Zt=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},en=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},tn=function(n){return Zt(void 0,void 0,Promise,function(){var t;return en(this,function(e){switch(e.label){case 0:return t={url:$t+"/community-links/v1/universes/"+n+"/community",retryable:!0,withCredentials:!0},[4,w.httpService.get(t)];case 1:return[2,e.sent().data]}})})},c={common:[],feature:"Feature.CommunityLinks"},nn="UserCommunities.EDP.CommunityLinks",rn=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},an=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},on=(0,t.withTranslations)(function(e){var t=e.translate,n=(0,D.useState)(null),r=n[0],a=n[1],i=Le()||{},o=i.universeId,l=void 0===o?"":o,s=i.placeName,e=void 0===s?"":s,n=(0,D.useState)(void 0),o=n[0],c=n[1],i=(0,D.useState)(!1),s=i[0],n=i[1],u=(0,D.useCallback)(function(){return rn(void 0,void 0,void 0,function(){var t;return an(this,function(e){switch(e.label){case 0:return[4,E.ExperimentationService.getAllValuesForLayer(nn)];case 1:return t=e.sent(),c(null==t?void 0:t.communityLinkDisplayConfig),[2]}})})},[]),d=(0,D.useCallback)(function(){return rn(void 0,void 0,void 0,function(){var t;return an(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,tn(l)];case 1:return t=e.sent(),a(t),[3,3];case 2:return e.sent(),a(null),[3,3];case 3:return[2]}})})},[l]),i=(0,D.useCallback)(function(){var e,t;null!=r&&r.communityId&&(e=l,t=r.communityId,f.eventStreamService.sendEventWithTarget("clickCommunityLink","communityLinkDisplay",{guildedServerId:t,entityType:"universe",entityId:e}))},[l,r]);return(0,D.useEffect)(function(){!F.authenticatedUser.isUnder13&&F.authenticatedUser.isAuthenticated&&rn(void 0,void 0,void 0,function(){return an(this,function(e){switch(e.label){case 0:return[4,Promise.all([d(),u()])];case 1:return e.sent(),[2]}})})},[d,u]),null!=r&&r.communityId&&"private"!==r.visibility&&o?(s||(n(!0),E.ExperimentationService.logLayerExposure(nn)),o.inTreatment?A().createElement("div",{className:"game-community-section"},A().createElement("h2",{className:"game-community-title"},t(N.HeadingCommunityTitle)),A().createElement("a",{className:"game-community-link","data-testid":"game-community-link",href:(o=r.communityId,$t+"/community-links/v1/guilded/"+o+"/join?a=red"),onClick:i,target:"_blank",rel:"noreferrer"},A().createElement("div",{className:"game-community-icon-container"},A().createElement("div",{className:"game-community-icon"})),A().createElement("div",{className:"game-community-info-container"},A().createElement("div",null,A().createElement("h5",{className:"game-community-name"},r.name)),A().createElement("div",null,A().createElement("span",{className:"game-community-description text-default"},r.description||t(N.DescriptionCommunityDefault,{experienceName:e})))),A().createElement("div",{className:"game-community-visit-container"},A().createElement("button",{className:"btn btn-cta-md btn-min-width",type:"button"},t(N.LabelViewButton))))):null):null},c),u=PropTypes,ln=oo.n(u),sn="Label.ContextMenuTitle",cn="Action.ViewDetails",un="Action.JoinGame",dn={goToProfileInPlacesList:{name:"goToProfileInPlacesList",ctx:"click"},openModalFromGameTile:{name:"openModalFromGameTile",ctx:"click"},goToChatInPlacesList:{name:"goToChatInPlacesList",ctx:"click"},joinGameInPlacesList:{name:"joinGameInPlacesList",ctx:"click"},goToGameDetailInPlacesList:{name:"goToGameDetailInPlacesList",ctx:"click"},gamePlayIntentInPlacesList:{ctx:"placesListInHomePage"}};function mn(e){var t=e.game,n=e.translate,r=t.universeId,a=t.name,e=t.referralUrl,t=t.isPlayable,r=A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.gameIcon,size:ne.DefaultThumbnailSize,targetId:r,imgClassName:"game-card-thumb",format:ne.ThumbnailFormat.jpeg});return A().createElement("div",{className:"border-bottom player-interaction-container"},A().createElement("span",{className:"cursor-pointer game-icon"},A().createElement(k.Link,{url:e,className:"game-card-link"},r)),A().createElement("span",{className:"game-info-container"},A().createElement(k.Link,{url:e,className:"game-name"},a),!t&&A().createElement(k.Link,{url:e,className:"btn-control-sm game-link"},n(cn))))}mn.propTypes={game:ln().shape({universeId:ln().number,placeId:ln().number,name:ln().string,playerCount:ln().number,isShowSponsoredLabel:ln().bool,nativeAdData:ln().string,imageUrl:ln().string,referralUrl:ln().string,isPlayable:ln().bool}).isRequired,translate:ln().func.isRequired};var fn=mn;function vn(e){var t=e.playerId,e=e.altName;return A().createElement("div",{className:"avatar-card-link"},A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.avatarHeadshot,size:ne.ThumbnailAvatarHeadshotSize.size48,targetId:t,imgClassName:"avatar-card-image",format:ne.ThumbnailFormat.webp,altName:e}))}vn.defaultProps={altName:""},vn.propTypes={playerId:ln().number.isRequired,altName:ln().string};var pn=vn;function gn(e){var t=e.playerData,i=e.dismissModal,n=e.isPlayable,r=e.translate,e=t.presence,o=e.rootPlaceId,l=e.placeId,s=e.gameId,c=t.id,t=t.nameForDisplay;return A().createElement("div",{className:"border-bottom player-info"},A().createElement("span",{className:"player-name"},t),A().createElement(k.Button,{className:"cursor-pointer btn-primary-sm player-action",onClick:function(e){var t={rootPlaceId:o,placeId:l},n=f.playGameService.buildPlayGameProperties(o,l,s,c),r=dn.joinGameInPlacesList,a=dn.gamePlayIntentInPlacesList,a={eventName:r.name,ctx:r.ctx,properties:t,gamePlayIntentEventCtx:a.ctx};f.playGameService.launchGame(n,a),i(e)},isDisabled:!n},r(un)))}gn.propTypes={playerData:ln().shape({presence:ln().shape({rootPlaceId:ln().number,placeId:ln().number,gameId:ln().string}),id:ln().number,nameForDisplay:ln().string}).isRequired,dismissModal:ln().func.isRequired,isPlayable:ln().bool.isRequired,translate:ln().func.isRequired};var bn=gn;function hn(e){var t=e.friendsData,n=e.friendsInGame,a=e.dismissModal,i=e.isPlayable,o=e.translate,l={};return t.forEach(function(e){l[e.id]=e}),A().createElement("div",{className:"interaction-container"},A().createElement("ul",{className:"interaction-list"},n.map(function(e,t){var n=e+t,r=l[e],t=r.id,e=r.nameForDisplay;return A().createElement("li",{key:n,className:"interaction-item","aria-hidden":"true"},A().createElement("span",{className:"avatar avatar-headshot avatar-headshot-sm player-avatar"},A().createElement(pn,{playerId:t,altName:e})),A().createElement(bn,{playerData:r,dismissModal:a,isPlayable:i,translate:o}))})))}hn.propTypes={friendsData:ln().arrayOf(ln().shape({presense:ln().shape({rootPlaceId:ln().number,placeId:ln().number,gameId:ln().string}),id:ln().number,nameForDisplay:ln().string})).isRequired,friendsInGame:ln().arrayOf(ln().number).isRequired,dismissModal:ln().func.isRequired,isPlayable:ln().bool.isRequired,translate:ln().func.isRequired};var yn=hn;function Sn(e){var t=e.friendsData,n=e.friendsInGame,r=e.game,a=e.dismissModal,i=e.translate,e=i(sn);return A().createElement("div",{"data-testid":"game-players-player-interaction-modal"},A().createElement(k.Modal.Header,{title:e,onClose:a}),A().createElement(fn,{game:r,translate:i}),A().createElement(yn,{friendsData:t,friendsInGame:n,dismissModal:a,isPlayable:r.isPlayable,translate:i}))}Sn.propTypes={friendsData:ln().arrayOf(ln().shape({presense:ln().shape({rootPlaceId:ln().number,placeId:ln().number,gameId:ln().string}),id:ln().number,nameForDisplay:ln().string})).isRequired,friendsInGame:ln().arrayOf(ln().number).isRequired,game:ln().shape({universeId:ln().number,placeId:ln().number,name:ln().string,playerCount:ln().number,isShowSponsoredLabel:ln().bool,nativeAdData:ln().string,imageUrl:ln().string,referralUrl:ln().string,isPlayable:ln().bool}).isRequired,dismissModal:ln().func.isRequired,translate:ln().func.isRequired};var En=Sn,v={common:["Common.GameSorts","Feature.GamePage","Feature.GameDetails"],feature:"Feature.PlacesList"};function wn(e){var t=e.id,n=e.children,r=e.gameData,a=e.isVisible,i=e.page,e=e.buildEventProperties;return A().createElement(k.Link,{url:$e(r.placeId,r.name,e(r,t)),tabIndex:a?0:-1,"aria-hidden":!a,className:"game-card-link",id:r.universeId.toString()},i===We.GamesPage?A().createElement("div",{className:"game-card-thumb-container"},A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.gameIcon,size:ne.ThumbnailGameIconSize.size150,targetId:r.universeId,containerClass:"game-card-thumb",format:ne.ThumbnailFormat.jpeg,altName:r.name})):A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.gameIcon,size:ne.ThumbnailGameIconSize.size150,targetId:r.universeId,containerClass:"game-card-thumb-container",format:ne.ThumbnailFormat.jpeg,altName:r.name}),A().createElement("div",{className:"game-card-name game-name-title",title:r.name},r.name),n)}(p=function(e){var t=e.tooltipText,e=e.sizeInPx,e=void 0===e?16:e;return A().createElement("span",{className:"info-tooltip-container"},A().createElement(k.Tooltip,{id:"games-info-tooltip",placement:"right",containerClassName:"games-info-tooltip",content:t},A().createElement("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A().createElement("path",{d:"M8.97 5.44H7V4H8.97V5.44Z",fill:"currentColor"}),A().createElement("path",{d:"M8.94347 11.9999H7.05347V6.37988H8.94347V11.9999Z",fill:"currentColor"}),A().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5Z",fill:"currentColor"}))))}).defaultProps={sizeInPx:16};var In=p,Pn=function(){return(Pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},xn=yt.keyBoardEventCode,Tn=yt.numberOfInGameAvatarIcons,Nn=yt.numberOfInGameNames;function Cn(e){var t=e.totalDownVotes,n=e.totalUpVotes,e=e.playerCount,t=Ve.getVotePercentage(n,t),e=Ve.getPlayerCount(e);return A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats"},A().createElement("span",{className:"info-label icon-votes-gray"}),t?A().createElement("span",{className:"info-label vote-percentage-label"},t):A().createElement("span",{className:"info-label no-vote"}),A().createElement("span",{className:"info-label icon-playing-counts-gray"}),A().createElement("span",{className:"info-label playing-counts-label"},e))}function Ln(e){return e=e.playerCount,e=Ve.getPlayerCount(e),A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-player-count"},A().createElement("span",{className:"info-label icon-playing-counts-gray"}),A().createElement("span",{className:"info-label playing-counts-label"},e))}function Dn(e){var t=e.playerCount;return(e=e.playerCountStyle)!==ve.Always&&e!==ve.Hover?null:(e=te()("game-card-image-pill",{"hover-only":e===ve.Hover}),A().createElement("div",{className:e,"data-testid":"game-tile-player-count-pill"},A().createElement(Ln,{playerCount:t})))}function An(e){var t=e.totalDownVotes,n=e.totalUpVotes,r=e.translate,e=yt.RatingPercentageText,t=(null==(t=Ve.getVotePercentageValue(n,t))?void 0:t.toString())||"--";return A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-rating"},A().createElement("span",{className:"info-label icon-votes-gray"}),A().createElement("span",{className:"info-label vote-percentage-label"},r(e,{percentRating:t})||t+"% Rating"))}function kn(e){return e=e.footerData,A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-text-footer"},A().createElement("span",{className:"info-label"},e.text.textLiteral))}function Rn(e){var t=e.iconClassName,e=e.text;return A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-icon-text-footer"},A().createElement("span",{className:te()("info-label",t)}),A().createElement("span",{className:"info-label text-label-with-icon"},e))}function Gn(e){return e=e.footerText,A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-friend-activity"},A().createElement("span",{className:"info-label"},e))}function On(e){return e=e.translate,A().createElement("div",{className:"game-card-native-ad","data-testid":"game-tile-sponsored-footer"},A().createElement("div",{className:"native-ad-label"},e(l.LabelSponsoredAd),A().createElement(In,{tooltipText:e(n.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",sizeInPx:12})))}function Mn(e){return e=e.user,A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.avatarHeadshot,size:ne.ThumbnailAvatarHeadshotSize.size48,targetId:e.id,containerClass:"avatar avatar-headshot avatar-headshot-xs",imgClassName:"avatar-card-image",format:ne.ThumbnailFormat.webp,altName:e.displayName})}function Fn(e){return e=e.translate,A().createElement("div",{className:"game-card-info","data-testid":"wide-game-tile-sponsored-footer"},A().createElement(In,{tooltipText:e(n.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",sizeInPx:12}),A().createElement("span",{className:"info-label text-label-with-icon"},e(l.LabelSponsoredAd)))}function Un(e){var t=e.friendsData,n=e.isOnline,r=yt.maxFacepileFriendCountValue,r=(null==t?void 0:t.length)>r?r.toString()+"+":(null==t?void 0:t.length)>Tn?null==t?void 0:t.length.toString():"",e=r?Tn-1:Tn,a=te()("avatar-card",{"avatar-card-online":n});return A().createElement("div",{className:"info-avatar"},r&&A().createElement("div",{className:a},A().createElement("div",{className:"avatar-count-container"},A().createElement("span",{className:"avatar-count info-label"},r))),t.slice(0,e).map(function(e){return A().createElement("div",{className:a,key:e.displayName},A().createElement(Mn,{user:e}))}))}function jn(e){var t=e.friendsData,e=e.isOnline;if(0===t.length)throw new Error("friendData should not be empty");return A().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-"+(e?"online":"offline")+"-friends-facepile"},A().createElement(Un,{friendsData:t,isOnline:e}),A().createElement("span",{className:"info-label"},t.map(function(e){return e.displayName}).join(", ")))}function Bn(e){var t=e.friendData,n=e.gameData,r=e.translate,a=(0,D.useState)(!1),e=a[0],i=a[1];if(0===t.length)throw new Error("friendData should not be empty");return A().createElement("div",{className:"game-card-friend-info game-card-info","data-testid":"game-tile-stats-friends"},A().createElement("div",{className:"info-avatar",style:{width:22*(t.slice(0,Tn).length-1)+32+"px"}},t.slice(0,Tn).map(function(e){return A().createElement("div",{className:"avatar-card",role:"button",tabIndex:0,key:e.displayName,onClick:function(e){e.stopPropagation(),e.preventDefault(),i(!0)},onKeyDown:function(e){e.code===xn.enter&&(e.stopPropagation(),e.preventDefault(),i(!0))}},A().createElement(Mn,{user:e}))})),r&&A().createElement("span",{className:"info-label text-overflow","data-testid":"game-tile-stats-info-label"},t.length>Nn?r(l.LabelPlayingOnePlusUsersWithComma,{username:t[0].displayName,count:t.length-Nn}):r(l.LabelPlayingOneUser,{user:t[0].displayName})),A().createElement(Vn,{friendsDataInGame:t,game:n,show:e,onHide:function(e){e.stopPropagation(),e.preventDefault(),i(!1)}}))}wn.defaultProps={page:We.HomePage,isVisible:!0},Dn.defaultProps={playerCountStyle:void 0},Bn.defaultProps={translate:void 0};var Vn=(0,t.withTranslations)(function(e){var t=e.show,n=e.onHide,r=e.friendsDataInGame,a=e.game,e=e.translate;return A().createElement(k.Modal,{show:t,onHide:n,size:"lg"},A().createElement(En,{friendsData:r.map(function(e){return Pn(Pn({},e),{nameForDisplay:e.displayName})}),friendsInGame:r.map(function(e){return e.id}),game:a,dismissModal:n,translate:e}))},v),qn=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Hn=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(g=(0,D.forwardRef)(function(e,t){var n=e.id,r=e.buildEventProperties,a=e.gameData,i=e.page,o=void 0===i?We.HomePage:i,l=e.className,s=void 0===l?"grid-item-container game-card-container":l,i=e.friendData,c=void 0===i?[]:i,l=e.isVisible,i=void 0===l||l,l=e.shouldShowMetadata,u=void 0===l||l,l=e.isSponsoredFooterAllowed,d=void 0!==l&&l,m=e.translate,e=(0,D.useState)(),f=e[0],v=e[1],p=(0,D.useMemo)(function(){return Ae(c,a.universeId)},[c,a.universeId]);(0,D.useEffect)(function(){void 0===f&&0<p.length&&qn(void 0,void 0,void 0,function(){var t;return Hn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,J(a.placeId.toString())];case 1:return t=e.sent(),v(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[p,f]);return A().createElement("div",{ref:t,className:s,"data-testid":"game-tile"},A().createElement(wn,{id:n,isVisible:i,buildEventProperties:r,gameData:a,page:o},u?null!=a&&a.isShowSponsoredLabel||null!=a&&a.isSponsored&&d?A().createElement(On,{translate:m}):0<p.length&&f?A().createElement(Bn,{friendData:p,gameData:f}):null!=a&&a.friendActivityTitle?A().createElement(Gn,{footerText:a.friendActivityTitle}):A().createElement(Cn,{totalUpVotes:a.totalUpVotes,totalDownVotes:a.totalDownVotes,playerCount:a.playerCount}):A().createElement(A().Fragment,null)))})).displayName="GameTile";var Wn=g;(b=function(e){var t=e.placeId,n=e.clientReferralUrl,r=e.buttonClassName,a=e.purchaseIconClassName,i=(0,D.useState)(void 0),o=i[0],l=i[1],e=(0,D.useState)(void 0),i=e[0],s=e[1];if((0,D.useEffect)(function(){J(t).then(function(e){return l(e)}).catch(function(){s(!0)})},[t]),void 0===o&&!i)return A().createElement(_n,null);r=te()(r,"btn-full-width");return A().createElement(A().Fragment,null,A().createElement(k.Link,{"data-testid":"hover-tile-purchase-button",className:r,url:n||(null==o?void 0:o.url)},A().createElement("span",{className:a}),A().createElement("span",{className:"btn-text"},(null==o?void 0:o.price)||"--")," "))}).defaultProps={clientReferralUrl:""};var zn=b,_n=function(){return A().createElement("div",{className:"shimmer play-button game-card-thumb-container","data-testid":"play-button-default"})};function Jn(e){var n=e.gameData,r=e.gameLayoutData;return null!==(e=(0,D.useMemo)(function(){var e,t=function(e){return e&&"0"!==e?parseInt(e,10):null};return t(null===(e=null==r?void 0:r.primaryMediaAsset)||void 0===e?void 0:e.wideImageAssetId)||t(null===(t=null==n?void 0:n.primaryMediaAsset)||void 0===t?void 0:t.wideImageAssetId)||null},[null===(e=null==n?void 0:n.primaryMediaAsset)||void 0===e?void 0:e.wideImageAssetId,null===(e=null==r?void 0:r.primaryMediaAsset)||void 0===e?void 0:e.wideImageAssetId]))?A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.assetThumbnail,size:ne.ThumbnailGameThumbnailSize.width384,targetId:e,containerClass:"brief-game-icon",format:ne.ThumbnailFormat.jpeg,altName:n.name}):A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.gameThumbnail,size:ne.ThumbnailGameThumbnailSize.width384,targetId:n.placeId,containerClass:"brief-game-icon",format:ne.ThumbnailFormat.jpeg,altName:n.name})}(h=function(e){var t=e.universeId,n=e.placeId,r=e.playButtonEventProperties,a=e.buttonClassName,i=e.purchaseIconClassName,o=e.clientReferralUrl,l=e.shouldPurchaseNavigateToDetails,s=E.PlayButton.usePlayabilityStatus,e=E.PlayButton.PlayabilityStatuses,c=E.PlayButton.PlayButton,u=E.PlayButton.PurchaseButton,s=s(t),d=s[0],m=s[1];switch(d){case void 0:return A().createElement(_n,null);case e.GuestProhibited:case e.Playable:return A().createElement(c,{universeId:t,placeId:n,status:d,eventProperties:r,buttonClassName:a});case e.PurchaseRequired:return l?A().createElement(zn,{placeId:n,clientReferralUrl:o,purchaseIconClassName:null!=i?i:"icon-common-play",buttonClassName:null!=a?a:"btn-growth-lg play-button"}):A().createElement(u,{universeId:t,placeId:n,iconClassName:null!=i?i:"icon-common-play",refetchPlayabilityStatus:m,buttonClassName:a});case e.UniverseRootPlaceIsPrivate:return A().createElement("div",{className:null!=a?a:"btn-growth-lg play-button"},A().createElement("span",{className:"icon-status-private"}));default:return A().createElement("div",{className:null!=a?a:"btn-growth-lg play-button"},A().createElement("span",{className:"icon-status-unavailable"}))}}).defaultProps={playButtonEventProperties:{},buttonClassName:void 0,purchaseIconClassName:void 0,clientReferralUrl:void 0,shouldPurchaseNavigateToDetails:!1};var Kn,Yn=h;function Qn(n,r){var a;return void 0===r&&(r=300),[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(a),a=setTimeout(function(){n.apply(void 0,e)},r)},function(){clearTimeout(a)}]}(y={}).Melee="Melee",y.Ranged="Ranged",y.Explosive="Explosive",y.PowerUps="PowerUps",y.Navigation="Navigation",y.Music="Music",y.Social="Social",y.Building="Building",y.PersonalTransport="PersonalTransport",(I={}).Home="Home",I.Games="Games",(P={}).Invalid="Invalid",P.HasLootBoxes="HasLootBoxes",P.HasInGameTrading="HasInGameTrading",P.IsUsingLootBoxApi="IsUsingLootBoxApi",P.IsUsingInGameTradingApi="IsUsingInGameTradingApi",P.HasAllowedExternalLinkReferences="HasAllowedExternalLinkReferences",P.IsUsingAllowedExternalLinkReferencesApi="IsUsingAllowedExternalLinkReferencesApi",(x={}).MorphToR6="MorphToR6",x.PlayerChoice="PlayerChoice",x.MorphToR15="MorphToR15",(Kn=Kn||{}).TextLabel="TextLabel",(T=A().forwardRef(function(e,t){var n=e.gameData,r=e.id,a=e.buildEventProperties,i=e.friendData,o=void 0===i?[]:i,l=e.playerCountStyle,s=e.playButtonStyle,c=e.navigationRootPlaceId,u=e.isSponsoredFooterAllowed,d=void 0!==u&&u,m=e.wideTileType,f=e.topicId,v=e.translate,p=0===r,g=r===St.maxWideGameTilesPerCarouselPage-1,b=(0,D.useState)(!1),h=b[0],y=b[1],S=(0,D.useState)(n.placeId),E=S[0],w=S[1];(0,D.useEffect)(function(){c&&!Number.isNaN(c)?w(parseInt(c,10)):n.navigationUid&&W(n.navigationUid).then(function(e){null!=e&&e.rootPlaceId&&w(e.rootPlaceId)}).catch(function(){})},[c,n.navigationUid]);var i=(0,D.useMemo)(function(){return $e(E,n.name,a(n,r))},[n,a,r,E]),u=Qn(function(){y(!0)},100),I=u[0],P=u[1],e=Qn(function(){y(!1)},100),x=e[0],T=e[1],b=function(){T(),I()},S=function(){P(),x()},u=a(n,r),N=(0,D.useMemo)(function(){return Ae(o,n.universeId)},[o,n.universeId]),C=(0,D.useMemo)(function(){return function(e,t){if(!t)return[];var n=new Map(e.map(function(e){return[e.id,e]}));return t.map(function(e){return n.get(e.userId)}).filter(function(e){return void 0!==e})}(o,n.friendVisits)},[o,n.friendVisits]),L=(0,D.useMemo)(function(){return n.layoutDataBySort&&f&&n.layoutDataBySort[f]?n.layoutDataBySort[f]:n.defaultLayoutData},[n.layoutDataBySort,n.defaultLayoutData,f]),e=(0,D.useMemo)(function(){return null!=L&&L.title?L.title:n.name},[n.name,null==L?void 0:L.title]);return A().createElement("li",{className:te()("list-item","hover-game-tile",{"grid-tile":m===fe.GridTile},{"event-tile":m===fe.EventTile},{"first-tile":p},{"last-tile":g},{focused:h}),"data-testid":"wide-game-tile",onMouseOver:b,onMouseLeave:S,onFocus:b,onBlur:S,id:n.universeId.toString()},n.universeId&&A().createElement("div",{className:"featured-game-container game-card-container",ref:t},A().createElement(k.Link,{url:i,className:"game-card-link"},A().createElement("div",{className:"featured-game-icon-container"},A().createElement(Jn,{gameData:n,gameLayoutData:L}),A().createElement(Dn,{playerCount:n.playerCount,playerCountStyle:l})),A().createElement("div",{className:"info-container"},A().createElement("div",{className:"game-card-name game-name-title","data-testid":"game-tile-game-title",title:e},e),A().createElement("div",{className:"wide-game-tile-metadata"},A().createElement("div",{className:"base-metadata"},n.isShowSponsoredLabel||n.isSponsored&&d?A().createElement(Fn,{translate:v}):null!=L&&L.footer&&L.footer.type===Kn.TextLabel?A().createElement(kn,{footerData:L.footer}):0<(null==N?void 0:N.length)?A().createElement(jn,{friendsData:N,isOnline:!0}):0<(null==C?void 0:C.length)?A().createElement(jn,{friendsData:C,isOnline:!1}):n.friendVisitedString?A().createElement(Rn,{iconClassName:"icon-pastname",text:n.friendVisitedString}):A().createElement(An,{totalUpVotes:n.totalUpVotes,totalDownVotes:n.totalDownVotes,translate:v})),A().createElement("div",{className:"hover-metadata"},n.minimumAge&&n.ageRecommendationDisplayName&&m!==fe.EventTile?A().createElement("div",{className:"game-card-info","data-testid":"game-tile-hover-age-rating"},A().createElement("span",{className:"info-label"},n.ageRecommendationDisplayName)):null)))),h&&A().createElement("div",{"data-testid":"game-tile-hover-game-tile-contents",className:"game-card-contents"},s!==pe.Disabled&&m!==fe.EventTile&&A().createElement(Yn,{universeId:n.universeId.toString(),placeId:n.placeId.toString(),playButtonEventProperties:u,buttonClassName:"btn-growth-xs play-button",purchaseIconClassName:"icon-robux-white",clientReferralUrl:i,shouldPurchaseNavigateToDetails:!0}))))})).displayName="WideGameTile";var $n=T,Xn=function(){return(Xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Zn=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};(s=(0,D.forwardRef)(function(e,t){var n=e.componentType,r=Zn(e,["componentType"]);switch(n){case fe.AppGameTileNoMetadata:return A().createElement(Wn,Xn({ref:t,shouldShowMetadata:!1},r));case fe.GridTile:case fe.EventTile:return A().createElement($n,Xn({ref:t,wideTileType:n},r));default:return A().createElement(Wn,Xn({ref:t},r))}})).displayName="GameTileTypeMap";var er=s;function tr(n,r){return mr(void 0,void 0,Promise,function(){var t;return fr(this,function(e){switch(e.label){case 0:return t=gr(n),[4,w.httpService.post({withCredentials:!0,url:t},{rsvpStatus:r})];case 1:return[2,e.sent().data]}})})}function nr(e,t,n){return e(Cr[t].translationKey,n)||Cr[t].fallback}function rr(e){return(e?new Date(e):new Date(0)).getTime()}function ar(t,e){function n(e){return Number.parseFloat((t/e).toFixed(1)).toString()}return 1e9<=t?""+n(1e9)+nr(e,"billionShorthandIdentifier"):1e6<=t?""+n(1e6)+nr(e,"millionShorthandIdentifier"):1e3<=t?""+n(1e3)+nr(e,"thousandShorthandIdentifier"):t.toString()}function ir(e,t){if(!e)throw new Error("missing root placeId");kr(e.toString(),e.toString(),"",void 0,{eventName:"virtualEventJoinGame",ctx:Er,eventJoinSessionId:t})}(G=(0,D.forwardRef)(function(e,t){var n=e.gameData,r=e.buildEventProperties,a=e.translate,i=e.friendData,o=e.componentType,l=e.playerCountStyle,s=e.playButtonStyle,c=e.navigationRootPlaceId,u=e.isSponsoredFooterAllowed,d=e.topicId,m=e.tileRef,e=te()("game-carousel",{"wide-game-tile-carousel":o===fe.GridTile||o===fe.EventTile});return A().createElement("div",{"data-testid":"game-carousel",ref:t,className:e},n.map(function(e,t){return A().createElement(er,{componentType:o,playerCountStyle:l,playButtonStyle:s,navigationRootPlaceId:c,isSponsoredFooterAllowed:u,topicId:d,ref:m,key:t,id:t,gameData:e,translate:a,buildEventProperties:r,friendData:i})}))})).displayName="GameCarousel";var or=G,c={common:[],feature:"Feature.GameDetails"},lr=function(t,e,n){var r=(0,D.useState)(new Set),a=r[0],i=r[1],r=(0,D.useState)(new Set),o=r[0],l=r[1],s=(0,D.useRef)(null),c=(0,D.useRef)(n);(0,D.useEffect)(function(){c.current=n},[n]);var u=(0,D.useCallback)(function(){Ve.splitArray(Array.from(o).filter(function(e){return!a.has(e)}),yt.maxTilesInGameImpressionsEvent).filter(function(e){return 0<e.length}).forEach(function(n){var e,t=c.current(n);void 0!==t&&0<(null===(e=t.absPositions)||void 0===e?void 0:e.length)&&(t=rt.gameImpressions(t),f.eventStreamService.sendEvent.apply(f.eventStreamService,t),i(function(e){var t=e;return n.forEach(function(e){return t.add(e)}),t}))})},[a,o]),r=Qn(function(){return u()}),d=r[0],m=r[1];(0,D.useEffect)(function(){var e,i=Array.from(null!==(e=null===(e=null==t?void 0:t.current)||void 0===e?void 0:e.children)&&void 0!==e?e:[]);return s.current=f.elementVisibilityService.observeChildrenVisibility({elements:i,threshold:yt.gameImpressionsIntersectionThreshold},function(e,t){m();var n,r,a=(n=t,r=[],e.forEach(function(t){var e;null==t||!t.isIntersecting||0<=(e=i.findIndex(function(e){return e===t.target}))&&(r.push(e),n.unobserve(t.target))}),r.sort(function(e,t){return e-t}));l(function(e){var t=e;return a.forEach(function(e){return t.add(e)}),t}),d()}),function(){null!=s&&s.current&&s.current()}},[t,e,o,d,m])},sr=function(){return(sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},cr=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},ur=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},dr=(0,t.withTranslations)(function(e){var t=e.translate,n=(0,D.useRef)(null),r=(0,D.useRef)(null),a=(0,D.useState)([]),i=a[0],o=a[1],e=(Le()||{}).universeId,l=void 0===e?"":e,a=(0,D.useState)(!1),e=a[0],s=a[1],a=(0,D.useCallback)(function(e){if(void 0!==i){var t=e.filter(function(e){return e<(null==i?void 0:i.length)});return sr(sr(((e={})[Ke.RootPlaceIds]=t.map(function(e){return i[e].placeId}),e[Ke.UniverseIds]=t.map(function(e){return i[e].universeId}),e),Me(i,t)),((e={})[Ke.AbsPositions]=t,e[Ke.SortPos]=0,e[Ke.Page]=We.GameDetailPage,e))}},[i]);return lr(n,i.length,a),(0,D.useEffect)(function(){(function(){return cr(this,void 0,void 0,function(){var t;return ur(this,function(e){switch(e.label){case 0:s(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,z(l,Et.maxTilesPerCarouselPage)];case 2:return t=e.sent().games,o(t),[3,4];case 3:return t=e.sent(),console.error(t),[3,4];case 4:return s(!1),[2]}})})})().finally(function(){return null})},[l]),A().createElement(A().Fragment,null,e?A().createElement(k.Loading,null):null,0<i.length&&A().createElement(A().Fragment,null,A().createElement("h2",null,t(m.HeadingRecommendedGames)),A().createElement(or,{ref:n,tileRef:r,gameData:i,buildEventProperties:function(e,t){var n={};return n[Ke.PlaceId]=e.placeId,n[Ke.UniverseId]=e.universeId,n[Ke.IsAd]=e.isSponsored,n[Ke.NativeAdData]=e.nativeAdData,n[Ke.Position]=t,n[Ke.NumberOfLoadedTiles]=(i||[]).length,n[Ke.Page]=We.GameDetailPage,n},translate:t})))},c),mr=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},fr=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},vr=E.EnvironmentUrls.apiGatewayUrl||"https://apis.roblox.com",pr=E.EnvironmentUrls.gamesApi,gr=(E.EnvironmentUrls.thumbnailsApi,function(e){return vr+"/virtual-events/v1/virtual-events/"+e+"/rsvps"}),br=function(e){return vr+"/virtual-events/v1/virtual-events/"+e+"/rsvps/counters"},hr=function(e){return vr+"/virtual-events/v1/universes/"+e+"/virtual-events?fromUtc="+(new Date).toISOString()},yr="going",Sr="notGoing",Er="virtualEvents",wr="expDetailsPage",Ir="virtualEventJoined",Pr="eventDetailsPageVisit",xr="virtualEventRSVP",Tr="virtualEventImpression",Nr={sendVirtualEventImpressionFromExperienceDetailsPageEvent:function(e,t){a().EventStream.SendEventWithTarget(Tr,Er,{virtualEventId:e,universeId:t,channel:wr},a().EventStream.TargetTypes.WWW)},sendVirtualEventJoinedFromExperienceDetailsPageEvent:function(e,t,n,r){a().EventStream.SendEventWithTarget(Ir,Er,{virtualEventId:e,universeId:t,"SD.gamePlayFromEventDetails.ID":n,"SD.gamePlayFromEventDetails.CT":Date.now(),channel:wr,attendanceCount:r},a().EventStream.TargetTypes.WWW)},sendEventDetailsPageVisitFromExpDetailsEvent:function(e,t){a().EventStream.SendEventWithTarget(Pr,Er,{virtualEventId:e,universeId:t,channel:wr},a().EventStream.TargetTypes.WWW)},sendVirtualEventRSVPFromExpDetailsEvent:function(e,t,n,r){a().EventStream.SendEventWithTarget(xr,Er,{virtualEventId:e,universeId:t,channel:wr,status:n,attendanceCount:r},a().EventStream.TargetTypes.WWW)}},Cr={millionShorthandIdentifier:{translationKey:"millionShorthandIdentifier",fallback:"M"},billionShorthandIdentifier:{translationKey:"billionShorthandIdentifier",fallback:"B"},thousandShorthandIdentifier:{translationKey:"thousandShorthandIdentifier",fallback:"K"},eventsTitle:{translationKey:"EventsListTitle",fallback:"Events"},seeMore:{translationKey:"SeeMore",fallback:"See More"},joinEvent:{translationKey:"JoinEvent",fallback:"Join Event"},unfollowEvent:{translationKey:"UnfollowEvent",fallback:"Unfollow Event"},NotifyMe:{translationKey:"NotifyMe",fallback:"Notify Me"},networkError:{translationKey:"NetworkError",fallback:"Something went wrong. Please try again later"}},Lr="UPCOMING",Dr="LIVE",Ar="PAST",kr=E.PlayButton.launchGame,u={common:["CommonUI.Features"],feature:"Feature.VirtualEvents"},Rr=function(e,o,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function a(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}i((s=s.apply(e,o||[])).next())})},Gr=function(n,r){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Or=(p=(0,k.createSystemFeedback)())[0],Mr=p[1],Fr=(0,t.withTranslations)(function(e){var t,r=e.eventItem,n=e.universeDetails,a=e.playabilityStatus,i=e.translate,o=(0,D.useState)(!0),l=o[0],s=o[1],c=(0,D.useState)(0),u=c[0],d=c[1],m=(0,D.useState)(!1),f=m[0],v=m[1],p=(y=rr(r.eventTime.startUtc),t=rr(r.eventTime.endUtc),(y>Date.now()?Lr:t<Date.now()?Ar:Dr)===Dr),e=(0,D.useCallback)(function(){return nr(i,p?"joinEvent":f?"unfollowEvent":"NotifyMe")},[p,i,f]),o=(0,D.useCallback)(function(){return p?"btn-growth-md":f?"btn-control-md":"btn-primary-md"},[p,f]),g=(0,D.useCallback)(function(e){e.preventDefault(),e.stopPropagation();var t=w.uuidService.generateRandomUuid();Nr.sendVirtualEventJoinedFromExperienceDetailsPageEvent(r.id,r.universeId,t,u);try{null!==n&&ir(null==n?void 0:n.rootPlaceId,t)}catch(e){}},[r.id,r.universeId,n,u]),b=(0,D.useCallback)(function(t){return Rr(void 0,void 0,void 0,function(){return Gr(this,function(e){switch(e.label){case 0:t.preventDefault(),t.stopPropagation(),Nr.sendVirtualEventRSVPFromExpDetailsEvent(r.id,r.universeId,yr,u),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,tr(r.id,yr)];case 2:return e.sent(),d(function(e){return e+1}),v(!0),[3,4];case 3:return e.sent(),Mr.warning(nr(i,"networkError")),[3,4];case 4:return[2]}})})},[r.id,r.universeId,u,i]),h=(0,D.useCallback)(function(t){return Rr(void 0,void 0,void 0,function(){return Gr(this,function(e){switch(e.label){case 0:t.preventDefault(),t.stopPropagation(),Nr.sendVirtualEventRSVPFromExpDetailsEvent(r.id,r.universeId,Sr,u),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,tr(r.id,Sr)];case 2:return e.sent(),d(function(e){return Math.max(e-1,0)}),v(!1),[3,4];case 3:return e.sent(),Mr.warning(nr(i,"networkError")),[3,4];case 4:return[2]}})})},[r.id,r.universeId,u,i]),c=(0,D.useMemo)(function(){return"Playable"===a},[a]),m=(0,D.useCallback)(function(){return p?g:f?h:b},[p,g,b,h,f]),y=(0,D.useCallback)(function(){Nr.sendEventDetailsPageVisitFromExpDetailsEvent(r.id,r.universeId)},[r.id,r.universeId]);return(0,D.useEffect)(function(){Nr.sendVirtualEventImpressionFromExperienceDetailsPageEvent(r.id,r.universeId)},[r.id,r.universeId]),(0,D.useEffect)(function(){v(r.userRsvpStatus===yr),Rr(void 0,void 0,void 0,function(){var t;return Gr(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(n=r.id,mr(void 0,void 0,Promise,function(){var t;return fr(this,function(e){switch(e.label){case 0:return t=br(n),[4,w.httpService.get({withCredentials:!0,url:t})];case 1:return[2,e.sent().data]}})}))];case 1:return t=e.sent(),d(t.counters.going),s(!1),[3,3];case 2:return e.sent(),d(0),s(!1),[3,3];case 3:return[2]}var n})})},[r.id,r.universeId,r.userRsvpStatus,p]),A().createElement("li",{className:"stack-row"},A().createElement(k.Link,{className:"clickable-event-list-item","aria-label":r.title,onClick:y,url:"https://"+window.location.hostname+"/events/"+r.id},A().createElement("div",{className:"clickable-event-list-item-contents"},A().createElement("div",{className:"event-title font-header-2"},r.title),A().createElement("div",{className:"event-subtitle-container"},A().createElement("div",{className:"event-subtitle-item small-oneline text"},(t=rr(r.eventTime.startUtc),y=(new E.Intl).locale,new Date(t).toLocaleString(y,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).toUpperCase())),!l&&(0<u||0<n.playing)&&A().createElement("div",{className:"event-subtitle-item small-oneline text"},"•"),0<u&&A().createElement(A().Fragment,null,A().createElement("div",{className:"icon-override favorited-icon"}),A().createElement("div",{className:"event-subtitle-item small-oneline text"},ar(u,i))),p&&0<n.playing&&A().createElement(A().Fragment,null,A().createElement("div",{className:"icon-override player-icon"}),A().createElement("div",{className:"event-subtitle-item small-oneline text"},ar(n.playing,i)))),A().createElement("div",{className:"event-description-container"},A().createElement("p",{className:"event-description small text"},r.description)),A().createElement("button",{type:"button",disabled:!c&&p,"aria-label":!c&&p?a:e(),onClick:m(),className:"notify-button btn-full-width "+o()},e())),A().createElement(Or,null)))},u),Ur=E.PlayButton.usePlayabilityStatus,jr=(0,t.withTranslations)(function(e){var t=e.eventList,n=e.universeDetails,r=e.translate,a=(0,D.useState)(0),i=a[0],o=a[1],e=Ur(n.id.toString()),l=e[0],a=(e[1],(0,D.useCallback)(function(){o(function(e){return e+1})},[])),s=(0,D.useMemo)(function(){return t.filter(function(e){return rr(e.eventTime.endUtc)>(new Date).getTime()})},[t]),e=(0,D.useMemo)(function(){return s.length>2+2*i},[i,s]);return s.length<=0?A().createElement("div",null):A().createElement(A().Fragment,null,A().createElement("div",{className:"container-header"},A().createElement("h2",null,nr(r,"eventsTitle"))),A().createElement("div",{className:"stack"},A().createElement("ul",{className:"stack-list"},s.sort(function(e,t){return rr(e.eventTime.startUtc)<rr(t.eventTime.startUtc)?-1:1}).slice(0,2+2*i).map(function(e){return A().createElement(Fr,{key:e.id,eventItem:e,universeDetails:n,playabilityStatus:l})}))),e&&A().createElement("button",{type:"button","aria-label":nr(r,"seeMore"),onClick:a,className:"notify-button btn-full-width btn-control-md"},nr(r,"seeMore")))},u);function Br(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Vr(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=l.apply(e,o);function a(e){Br(r,t,n,a,i,"next",e)}function i(e){Br(r,t,n,a,i,"throw",e)}a(void 0)})}}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wr=window.Roblox||{};function zr(){var a=Wr.GamePassJSData.PlaceID,e=qr((0,D.useState)(null),2),t=e[0],i=e[1],n=(r=qr((0,D.useState)([]),2))[0],o=r[1],r=(e=qr((0,D.useState)({}),2))[0],l=e[1],s=(e=qr((0,D.useState)(!1),2))[0],c=e[1],u=(0,D.useRef)(null),d="CreatorSuccess.VirtualEvents",m=(0,D.useCallback)(function(){E.ExperimentationService.logLayerExposure(d),c(!0)},[]);return(0,D.useEffect)(function(){if(E.CurrentUser.isAuthenticated){var e=u.current,t=new IntersectionObserver(function(e){qr(e,1)[0].isIntersecting&&0<n.length&&!s&&m()},{root:null,rootMargin:"0px",threshold:.3});return e&&t.observe(e),function(){e&&t.unobserve(e)}}},[u,n,s,m]),(0,D.useEffect)(function(){var n=function(){var e=Vr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.ExperimentationService.getAllValuesForLayer(d);case 2:return t=e.sent,e.abrupt("return",!0===t.virtualEventsMVPEnabled);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Vr(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(t){return mr(void 0,void 0,Promise,function(){return fr(this,function(e){switch(e.label){case 0:return[4,w.httpService.get({url:pr+"/v1/games/multiget-place-details?placeIds="+t,withCredentials:!0,timeout:1e4})];case 1:return[2,e.sent().data[0]]}})})}(a);case 2:return t=e.sent,e.next=5,function(n){return mr(void 0,void 0,Promise,function(){var t;return fr(this,function(e){switch(e.label){case 0:return t=hr(n),[4,w.httpService.get({url:t,withCredentials:!0})];case 1:return[2,e.sent().data.data]}})})}(null==t?void 0:t.universeId);case 5:if(0<(null==(n=e.sent)?void 0:n.length))return e.next=9,function(t){return mr(void 0,void 0,Promise,function(){return fr(this,function(e){switch(e.label){case 0:return[4,w.httpService.get({url:pr+"/v1/games",timeout:1e4,withCredentials:!0},{universeIds:t})];case 1:return[2,e.sent().data.data[0]]}})})}([null==t?void 0:t.universeId]);e.next=11;break;case 9:r=e.sent,l(r);case 11:o(n);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(function(){var e=Vr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.CurrentUser.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n();case 4:t=e.sent,i(t),r();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[a]),0<(null==n?void 0:n.length)?A().createElement("div",{ref:u,className:"virtual-event-game-details-container"},!0===t&&A().createElement(jr,{eventList:n,universeDetails:r})):A().createElement("div",null)}var _r=ReactDOMServer,Jr=RobloxItemPurchase,v={common:["CommonUI.Controls"],feature:"Feature.ServerList"},g={common:[],feature:"Feature.PrivateServers"},O={common:[],feature:"Purchasing.PurchaseDialog"},b={common:[],feature:"Feature.VIPServer"},h=5,y=15,I=50,P=4,x={friend:{key:"friends",value:"Friend"},public:{value:"Public"},Vip:{key:"private",value:"VIP"}},T={descending:"Desc",ascending:"Asc"},s={sortOrder:"Desc",excludeFullGames:!1},G={friendsServersTitle:"Heading.ServersMyFriendsAreIn",publicServersTitle:"Heading.OtherServers",loadMoreButtonText:"Action.LoadMore",playerCountText:"Label.CurrentPlayerCount",noServersFoundText:"Label.NoServersFound",configureServerText:"Action.ConfigureServer",shutdownServerText:"Label.ShutDownServer",shutdownServerSuccess:"Message.ShutdownServerSuccess",shutdownServerError:"Message.ShutdownServerError",slowGameWarning:"Label.SlowGame",joinServerText:"Label.ServerListJoin",serversText:"Label.Servers",privateServerHeader:"Heading.PrivateServers",privateServerTooltip:"Label.PrivateServersAbout",privateServerRefreshText:"Action.Refresh",privateServerPrice:"Label.Price",privateServerPlayWithOthers:"Label.PlayWithOthers",seeAllPrivateServersText:"Label.SeeAllPrivateServers",privateServersNotSupported:"Label.VipServersNotSupported",freeGameText:"Label.Free",maxFreePrivateServersText:"Description.MaxFreePrivateServers",createPrivateServerText:"Action.CreatePrivateServer",renewalCanceledText:"Label.RenewalCanceled",insufficientFunds:"Label.InsufficientFunds",inactiveServerText:"Label.Inactive",renewServerListText:"Label.Renew",renewPrivateServerTitle:"Label.RenewPrivateServer",renewSubscriptionSuccess:"Message.RenewSubscriptionSuccess",renewSubscriptionError:"Message.RenewSubscriptionError",confirmEnableFuturePaymentsText:"Label.ConfirmEnableFuturePayments",startRenewingPrivateServerPrice:"Label.StartRenewingPrivateServerPrice",cancelText:"Label.Cancel",createPrivateServerPriceText:"Label.CreatePrivateServerFor",gameNameText:"Label.GameName",serverNameText:"Label.ServerName",createPrivateServerTitle:"Action.CreatePrivateServer",createServerFooterText:"Label.FooterText",privateServerLabel:"Label.PrivateServer",cancelAction:"Action.Cancel",transactionFailedHeading:"Heading.TransactionFailed",createServerFooterDescription:"Description.RecurringSubscriptionRenewal",friendInServerLabel:"Label.FriendInServer",twoFriendsInServerLabel:"Label.TwoFriendsInServer",manyFriendsInServerLabel:"Label.ManyFriendsInThisServer",loadServersError:"Message.LoadServersFailure",purchaseError:"Message.InternalErrorPurchaseError",numberOfPlayers:"Label.NumberOfPlayers",hideFullServers:"Label.ExcludeFullServers",descending:"Action.Descending",ascending:"Action.Ascending",serverCancellationSuccess:"Message.ServerCancellationSuccess",cancelPrivateServerText:"Action.CancelPrivateServer",confirmCancelText:"Action.ConfirmCancel",doNotCancelText:"Action.DoNotCancel",cancelServerText:"Message.CancelServerConfirmation",renewsMonthlyText:"Label.RenewsMonthlyCancelAnytime",subscribeText:"Action.Subscribe",perMonthText:"Label.PerMonth",buyNowText:"Action.BuyNow"};function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=(0,k.createModal)(),Yr=(c=(r=2,function(e){if(Array.isArray(e))return e}(i=i)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(i,r)||function(e,t){if(!e)return;if("string"==typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kr(e,t)}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],r=c[1],Qr=G,$r=I,p=function(){var e=document.getElementById("game-detail-meta-data");return e?{gameDetailUniverseId:parseInt(e.getAttribute("data-universe-id"),10),gameDetailPlaceName:e.getAttribute("data-place-name"),gameDetailPlaceId:parseInt(e.getAttribute("data-place-id"),10),gameDetailPageId:e.getAttribute("data-page-id"),gameDetailGameInstanceId:e.getAttribute("data-game-instance-id"),gameDetailShowShutdownAllButton:"True"===e.getAttribute("data-show-shut-down-all-button"),gameDetailUserCanManagePlace:"True"===e.getAttribute("data-user-can-manage-place"),gameDetailPrivateServerPrice:parseInt(e.getAttribute("data-private-server-price"),10),gameDetailCanCreateServer:"True"===e.getAttribute("data-can-create-server"),gameDetailPrivateServerLimit:parseInt(e.getAttribute("data-private-server-limit"),10)||0,gameDetailSellerName:e.getAttribute("data-seller-name"),gameDetailSellerId:parseInt(e.getAttribute("data-seller-id"),10),gameDetailPrivateServerProductId:parseInt(e.getAttribute("data-private-server-product-id"),10),gameDetailPreopenCreatePrivateServerModal:"True"===e.getAttribute("data-preopen-create-private-server-modal"),gameDetailExperienceInviteLinkId:e.getAttribute("data-experience-invite-link-id"),gameDetailExperienceInviteStatus:e.getAttribute("data-experience-invite-status")}:null},Xr=E.EnvironmentUrls.gamesApi,u=function(e){return w.urlService.getAbsoluteUrl("/users/".concat(e,"/profile"))},Zr=function(e){return w.urlService.getUrlWithQueries("/private-server/configure",{privateServerId:e})},ea=function(e){return w.urlService.getUrlWithLocale("/info/vip-server",e)};function ta(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function na(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ta(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):ta(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}var ra=function(e){return w.urlService.getAbsoluteUrl("".concat(Xr,"/v1/games/").concat(e,"/private-servers"))},aa=function(){return w.urlService.getAbsoluteUrl("/game-instances/shutdown")},ia=function(e){return"".concat(Xr,"/v1/vip-servers/").concat(e)},oa=function(e){return"".concat(Xr,"/v1/games/vip-servers/").concat(e)},la=function(e){return"".concat(Xr,"/v1/vip-servers/").concat(e,"/subscription")},sa=function(e,t,n){n=2<arguments.length&&void 0!==n?n:{},e={url:ra(e),retryable:!0,withCredentials:!0},n=na({cursor:t},n);return w.httpService.get(e,n)},ca=function(e,t,n){var r=null===(a=document.getElementsByName("__RequestVerificationToken")[0])||void 0===a?void 0:a.value,a={url:aa(),retryable:!0,withCredentials:!0},t={__RequestVerificationToken:r,placeId:e,gameId:t};return n&&(t.privateServerId=n),w.httpService.post(a,t)},ua=function(e,t,n){e={url:oa(e),retryable:!0,withCredentials:!0},n={name:t,expectedPrice:n};return w.httpService.post(e,n)},da=function(e){e={url:ia(e),retryable:!0,withCredentials:!0};return w.httpService.get(e)},ma=function(e,t,n){e={url:la(e),retryable:!0,withCredentials:!0};return w.httpService.patch(e,{active:t,price:n})};function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ga=G,I=(c=va((ba.defaultProps={serverName:"",createServerError:!1,loading:!1},ba.propTypes={translate:ln().func.isRequired,privateServerTranslate:ln().func.isRequired,thumbnail:ln().node.isRequired,assetName:ln().string.isRequired,expectedPrice:ln().number.isRequired,serverName:ln().string,onAction:ln().func.isRequired,onServerNameChange:ln().func.isRequired,createServerError:ln().bool,loading:ln().bool,clearForm:ln().func.isRequired},[(0,t.withTranslations)(ba,O),r]),2))[0],c=c[1];function ba(e){var t=e.translate,n=e.privateServerTranslate,r=e.assetName,a=e.expectedPrice,i=e.thumbnail,o=e.serverName,l=e.onAction,s=e.onServerNameChange,c=e.clearForm,u=e.loading,d=n(Qr.perMonthText)||"/month",m=(0,D.useMemo)(function(){return 0!==a?t(Qr.subscribeText)||"Subscribe":t(Qr.buyNowText)},[a,t]),e=A().createElement("span",{className:"purchase-private-server-modal-footer-text"},A().createElement(Jr.BalanceAfterSaleText,{expectedPrice:a})," ",n(Qr.createServerFooterDescription)||"This is a subscription-based feature. It will auto-renew once a month until you cancel the subscription."),i=A().createElement("div",{className:"private-server-purchase"},A().createElement("div",{className:"modal-list-item private-server-main-text",dangerouslySetInnerHTML:{__html:n(Qr.createPrivateServerPriceText,{target:"".concat((0,_r.renderToString)(A().createElement(Jr.PriceLabel,{price:a}))).concat(0!==a?d:"")})}}),A().createElement("div",{className:"modal-list-item"},A().createElement("span",{className:"text-label private-server-game-name"},n(Qr.gameNameText)),A().createElement("span",{className:"game-name"},r)),A().createElement("div",{className:"modal-list-item private-server-name-input"},A().createElement("span",{className:"text-label"},n(Qr.serverNameText)),A().createElement("div",{className:"form-group form-has-feedback"},A().createElement("input",{type:"text",value:o,onChange:s,maxLength:$r,className:"form-control input-field private-server-name",id:"private-server-name-text-box"}),0<o.length&&A().createElement("p",{className:"form-control-label text-secondary"},o.length,"/",$r))),A().createElement("div",{className:"modal-image-container"},i),0!==a&&A().createElement("p",{className:"rbx-private-server-renewal-disclosure"},n(Qr.renewsMonthlyText)||"Renews monthly. Cancel anytime."));return A().createElement(Yr,{id:"purchase-private-server-modal",title:n(Qr.createPrivateServerTitle),body:i,actionButtonText:m,neutralButtonText:t(Qr.cancelAction),footerText:e,onAction:l,onNeutral:c,loading:u,actionButtonShow:!0,disableActionButton:0===o.length})}var ha=(c=va((0,Jr.createItemPurchase)({customPurchaseVerificationModal:I,customPurchaseVerificationModalService:c}),2))[0],ya=c[1],Sa=p;function Ea(e){var t=e.canCreatePrivateServer,n=e.currency,r=e.placeName,i=e.price,a=e.privateServerTranslate,o=e.productId,l=e.refreshServers,s=e.sellerId,c=e.sellerName,u=e.translate,d=e.universeId,e=va((0,D.useState)(""),2),m=e[0],f=e[1];Sa().gameDetailPreopenCreatePrivateServerModal&&ya.start();function v(){return f(""),!0}e=A().createElement(ne.Thumbnail2d,{containerClass:"modal-thumb",format:ne.ThumbnailFormat.jpeg,imgClassName:"original-image",size:ne.DefaultThumbnailSize,targetId:d,type:ne.ThumbnailTypes.gameIcon});return A().createElement("span",{className:"rbx-private-server-create"},A().createElement(k.Button,{className:"btn-more rbx-private-server-create-button",isDisabled:!t,onClick:ya.start,size:k.Button.sizes.medium,variant:k.Button.variants.secondary},a(ga.createPrivateServerTitle)),A().createElement(ha,fa({assetName:r,assetType:a(ga.privateServerLabel),customProps:{privateServerTranslate:a,serverName:m,onServerNameChange:function(e){e=e.target.value;return f(e)},clearForm:v},expectedCurrency:n,expectedPrice:i,expectedSellerId:s,handlePurchase:function(e){var t=e.handleError,n=e.setLoading,r=e.openConfirmation,a=e.closeAll;n(!0),ua(d,m,i).then(function(e){e=e.data;n(!1),a();var t=e.vipServerId;r({transactionVerb:Jr.TransactionVerb.Bought,onAccept:function(){window.location.href=Zr(t)},onDecline:function(){return l(),v(),!0}})},function(e){var e=e.data;n(!1),a();e=null!==(e=null===(e=e.errors)||void 0===e?void 0:e[0].userFacingMessage)&&void 0!==e?e:u(ga.purchaseError);t({errorMsg:e,onDecline:function(){return l(),!0},showDivId:Jr.errorTypeIds.transactionFailure,title:u(ga.transactionFailedHeading)})})},productId:o,sellerName:c,thumbnail:e},{isPrivateServer:!0})),!t&&A().createElement("span",{className:"text-footer rbx-private-server-create-disabled-text"},u(ga.maxFreePrivateServersText)))}Ea.defaultProps={canCreatePrivateServer:!0,currency:1},Ea.propTypes={canCreatePrivateServer:ln().bool,currency:ln().number,placeName:ln().string.isRequired,price:ln().number.isRequired,privateServerTranslate:ln().func.isRequired,productId:ln().number.isRequired,refreshServers:ln().func.isRequired,sellerId:ln().number.isRequired,sellerName:ln().string.isRequired,translate:ln().func.isRequired,universeId:ln().number.isRequired};var wa=(0,t.withTranslations)(Ea,b);function Ia(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Pa(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ia(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Ia(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function xa(){var e=/\/games\/(\d+)\//g.exec(window.location.pathname);return e?+e[1]:null}function Ta(e,t,n){function r(){E.EventStream.SendEventWithTarget("playGameClicked",l,Pa({attributionId:ze(Ye.GameDetailReferral)},s),E.EventStream.TargetTypes.WWW)}var a=t.instanceId,i=t.accessCode,o=E.GameLauncher.isJoinAttemptIdEnabled()?w.uuidService.generateRandomUuid():void 0,t=Ca().gameDetailUniverseId,l="".concat(n,"ServerListJoin"),s={universeId:t,placeId:e,pid:e,joinAttemptId:o};if("computer"===La&&!Da||"tablet"===La&&Na||Da)return function(){r(),E.EventStream.SendEventWithTarget("gamePlayIntent",l,Pa({lType:"protocol",refuid:null,pg:"gameDetail"},s),E.EventStream.TargetTypes.WWW),i?E.GameLauncher.joinPrivateGame(e,i,void 0,o,E.GameLauncher.isJoinAttemptIdEnabled()?l:void 0):a&&E.GameLauncher.joinGameInstance(e,a,!1,!1,o,E.GameLauncher.isJoinAttemptIdEnabled()?l:void 0)};var c="",c=Aa?w.urlService.getUrlWithQueries("/games/start",{placeId:e}):"robloxmobile://placeID=".concat(e);return a&&(c+="&gameInstanceId=".concat(a)),i&&(c+="&accessCode=".concat(i)),E.GameLauncher.isJoinAttemptIdEnabled()&&o&&(c+="&joinAttemptId=".concat(o,"&joinAttemptOrigin=").concat(l)),function(){r(),window.location.href=c}}var Na=F.jsClientDeviceIdentifier.isIE11,Ca=p,La=(b=(0,E.DeviceMeta)()).deviceType,Da=b.isUWPApp,Aa=b.isInApp;function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ra(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ga=G;function Oa(e){var t=e.translate,n=e.showModal,r=e.closeModal,a=e.expirationDate,i=e.cancelPrivateServer,o=e.systemFeedbackService,l=e.setSubscription,s=ka((0,D.useState)(!1),2),e=s[0],c=s[1],s=A().createElement("p",null,t(Ga.cancelServerText,{date:a})),a=(0,D.useCallback)(function(){c(!0),i().then(function(e){e=e.data;l(e),o.success(t(Ga.serverCancellationSuccess)||"Server renewal successfully canceled")}).catch(function(e){var t=e.data;0<(null===(e=t.errors)||void 0===e?void 0:e.length)&&(e=t.errors[0],o.warning(null!==(t=e.userFacingMessage)&&void 0!==t?t:e.message))}).finally(function(){c(!1),r(!0)})},[i,r,l,o,t]);return A().createElement(k.SimpleModal,{show:n,title:t(Ga.cancelPrivateServerText),body:s,actionButtonText:t(Ga.confirmCancelText),neutralButtonText:t(Ga.doNotCancelText),onAction:a,onClose:r,onNeutral:r,actionButtonShow:!0,loading:e})}Oa.propTypes={translate:ln().func.isRequired,showModal:ln().bool.isRequired,closeModal:ln().func.isRequired,expirationDate:ln().string.isRequired,cancelPrivateServer:ln().func.isRequired,systemFeedbackService:ln().shape({success:ln().func.isRequired,warning:ln().func.isRequired}).isRequired,setSubscription:ln().func.isRequired};var Ma=(0,t.withTranslations)(Oa,g);function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ja=G,Ba=Zr;function Va(e){var t=e.className,n=e.translate,r=e.gameId,a=e.vipServerId,i=e.isOwner,o=e.canManagePlace,l=e.shutdownServer,s=e.subscription,c=e.setSubscription,u=e.isLoading,d=e.systemFeedbackService,m=Fa((0,D.useState)(!1),2),e=m[0],f=m[1],m=0<a,i=m&&i,m=null!==r&&(!m&&o||i),o=i&&s.active;return i||m?A().createElement("div",{className:t},A().createElement(k.Popover,{id:"game-instance-dropdown-menu",button:A().createElement(k.IconButton,{iconName:"more",size:k.IconButton.sizes.small,isDisabled:u}),trigger:"click",placement:"bottom"},A().createElement("ul",{className:"dropdown-menu",role:"menu"},i&&A().createElement("li",null,A().createElement(k.Link,{url:Ba(a),className:"rbx-private-server-configure"},n(ja.configureServerText))),m&&A().createElement("li",null,A().createElement("button",{type:"button",onClick:l,className:"rbx-private-server-shutdown rbx-private-server-shutdown"},n(ja.shutdownServerText))),o&&A().createElement("li",null,A().createElement(k.Button,{className:"rbx-private-server-cancel",onClick:function(){return f(!0)},size:k.Button.sizes.default,width:k.Button.widths.full,variant:k.Button.variants.default,isDisabled:u},n(ja.cancelText))))),o&&A().createElement(Ma,{translate:n,showModal:e,closeModal:function(){return f(!1)},expirationDate:new Date(s.expirationDate).toLocaleString("default",{month:"long",day:"numeric",year:"numeric"}),cancelPrivateServer:function(){return ma(a,!1,s.price)},systemFeedbackService:d,setSubscription:c})):A().createElement(D.Fragment,null)}Va.defaultProps={className:"",gameId:null,vipServerId:0,isOwner:!1,canManagePlace:!1,subscription:{}},Va.propTypes={className:ln().string,translate:ln().func.isRequired,gameId:ln().string,vipServerId:ln().number,isOwner:ln().bool,canManagePlace:ln().bool,shutdownServer:ln().func.isRequired,subscription:ln().shape({active:ln().bool,expired:ln().bool,expirationDate:ln().string,price:ln().number,canRenew:ln().bool,hasInsufficientFunds:ln().bool,hasRecurringProfile:ln().bool,hasPriceChanged:ln().bool}),setSubscription:ln().func.isRequired,isLoading:ln().bool.isRequired,systemFeedbackService:ln().shape({success:ln().func.isRequired,warning:ln().func.isRequired}).isRequired};var qa=Va;function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var za=G;function _a(e){var t=e.translate,n=e.placeName,r=e.creatorName,a=e.price,i=e.renewPrivateServer,o=e.isLoading,l=Ha((0,D.useState)(!1),2),s=l[0],c=l[1],e=Ha((0,D.useState)(!1),2),l=e[0],u=e[1],r=A().createElement(D.Fragment,null,A().createElement("p",{className:"renew-server-modal-body-text"},t(za.confirmEnableFuturePaymentsText,{placeName:n,creatorName:r})),A().createElement("p",{className:"renew-server-modal-body-text",dangerouslySetInnerHTML:{__html:t(za.startRenewingPrivateServerPrice,{price:(0,_r.renderToString)(A().createElement(Jr.PriceLabel,{price:a}))})}})),d=(0,D.useCallback)(function(){c(!1)},[]),a=(0,D.useCallback)(function(){d(),u(!0),i().finally(function(){u(!1)})},[i]);return A().createElement(D.Fragment,null,A().createElement(k.Button,{className:"rbx-private-server-renew",onClick:function(){return c(!0)},size:k.Button.sizes.extraSmall,width:k.Button.widths.full,variant:k.Button.variants.control,isDisabled:o||l},t(za.renewServerListText)),A().createElement(k.SimpleModal,{show:s,title:t(za.renewPrivateServerTitle),body:r,actionButtonText:t(za.renewServerListText),neutralButtonText:t(za.cancelText),onAction:a,onClose:d,onNeutral:d,actionButtonShow:!0}))}_a.propTypes={translate:ln().func.isRequired,placeName:ln().string.isRequired,creatorName:ln().string.isRequired,price:ln().number.isRequired,renewPrivateServer:ln().func.isRequired,isLoading:ln().bool.isRequired};var Ja=(0,t.withTranslations)(_a,g),Ka=p,Ya=G;function Qa(e){var n=e.translate,t=e.privateServerId,r=e.isPaymentCancelled,a=e.isInsufficientFunds,i=e.isServerInactive,o=e.canRenew,l=e.setSubscription,s=e.isLoading,c=e.systemFeedbackService,u=Ka(),d=u.gameDetailPlaceName,m=u.gameDetailPrivateServerPrice,e=u.gameDetailSellerName,u=(0,D.useCallback)(function(){return new Promise(function(e){ma(t,!0,m).then(function(e){e=e.data;l(e),c.success(n(Ya.renewSubscriptionSuccess)||"Successfully renewed private server")},function(e){var t=e.data;0<(null===(e=t.errors)||void 0===e?void 0:e.length)?(e=t.errors[0],c.warning(null!==(t=e.userFacingMessage)&&void 0!==t?t:e.message)):c.warning(n(Ya.renewSubscriptionError)||"Unable to renew subscription.")}).finally(function(){e()})})},[t,m,l,n,c]);return A().createElement(D.Fragment,null,r&&A().createElement("div",{className:"rbx-private-server-subscription-alert text-alert"},A().createElement("span",{className:"rbx-private-server-subscription-alert-text"},n(Ya.renewalCanceledText)||"Renewal Canceled")),a&&A().createElement("div",{className:"rbx-private-server-insufficient-funds text-alert"},A().createElement("span",{className:"icon-remove"}),n(Ya.insufficientFunds)),i&&A().createElement("div",{className:"rbx-private-server-inactive"},A().createElement("span",{className:"icon-turn-off"}),n(Ya.inactiveServerText)),o&&A().createElement(Ja,{placeName:d,creatorName:e,price:m,renewPrivateServer:u,isLoading:s}))}Qa.propTypes={translate:ln().func.isRequired,privateServerId:ln().number.isRequired,isPaymentCancelled:ln().bool.isRequired,isInsufficientFunds:ln().bool.isRequired,isServerInactive:ln().bool.isRequired,canRenew:ln().bool.isRequired,setSubscription:ln().func.isRequired,isLoading:ln().bool.isRequired,systemFeedbackService:ln().shape({success:ln().func.isRequired,warning:ln().func.isRequired}).isRequired};var $a=(0,t.withTranslations)(Qa,v),Xa=RobloxBadges,Za=u;function ei(e){var t=e.ownerUserId,n=e.ownerName,e=e.ownerHasVerifiedBadge;return A().createElement("div",{className:"rbx-private-owner"},A().createElement(k.Link,{title:n,url:Za(t),className:"avatar avatar-card-fullbody owner-avatar"},A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.avatarHeadshot,size:ne.DefaultThumbnailSize,targetId:t,containerClass:"avatar-card-image"})),A().createElement(k.Link,{url:Za(t),className:"text-name text-overflow"},A().createElement(Xa.VerifiedBadgeStringContainer,{size:Xa.BadgeSizes.CAPTIONHEADER,showVerifiedBadge:e,text:n})))}ei.propTypes={ownerUserId:ln().number.isRequired,ownerName:ln().string.isRequired,ownerHasVerifiedBadge:ln().bool.isRequired};var ti=ei,ni=u,ri=G;function ai(e){function r(e){return void 0===e?A().createElement(D.Fragment,null):A().createElement(k.Link,{href:ni(e.id),className:"text-name"},e.displayName)}var a=e.translate,t=e.players,i=(0,D.useMemo)(function(){return t.filter(function(e){return null!==e.id&&e.id!==F.authenticatedUser.id})},[t]),e=(0,D.useMemo)(function(){if(0===i.length)return"";var e=(0,_r.renderToString)(r(i[0]));if(1===i.length)return a(ri.friendInServerLabel,{friend:e})||"Friends in this server: ".concat(e);var t=(0,_r.renderToString)(r(i[1]));if(2===i.length)return a(ri.twoFriendsInServerLabel,{firstFriend:e,secondFriend:t})||"Friends in this server: ".concat(e," and ").concat(t);var n=i.length-2;return"Friends in this server: ".concat(e,", ").concat(t,", and ").concat(n," ").concat(1==n?"other":"others")},[i,a]);return 0===i.length?A().createElement(D.Fragment,null):A().createElement("div",{className:"text friends-in-server-label",dangerouslySetInnerHTML:{__html:e}})}ai.propTypes={translate:ln().func.isRequired,players:ln().arrayOf(ln().any).isRequired};var ii=ai,b={disableJoinButtonForFullServers:!1},oi=b=(0,D.createContext)(b);function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ci=u,ui=G,di=h,mi=x;function fi(e){var t=e.maxPlayerCount,e=e.currentPlayerCount;if(!t)return A().createElement(D.Fragment,null);t=Math.round(e/t*100);return A().createElement("div",{className:"server-player-count-gauge border"},A().createElement("div",{className:"gauge-inner-bar border",style:{width:"".concat(t,"%")}}))}function vi(e){e=e.player;return A().createElement("span",{key:e.playerToken,className:"avatar avatar-headshot-md player-avatar"},null==e.id?A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.avatarHeadshot,token:e.playerToken,containerClass:"avatar-card-image"}):A().createElement(k.Link,{className:"avatar-card-link",href:ci(e.id)},A().createElement(ne.Thumbnail2d,{type:ne.ThumbnailTypes.avatarHeadshot,targetId:e.id,containerClass:"avatar-card-image",altName:e.displayName})))}function pi(e){var t=e.id,n=e.translate,r=e.cssKey,a=e.serverListType,i=e.placeId,o=e.gameServerStatus,l=e.canManagePlace,s=e.name,c=e.vipServerId,u=e.vipServerSubscription,d=e.accessCode,m=e.showSlowGameMessage,f=e.owner,v=e.players,p=e.onShutdownServerSuccess,g=e.systemFeedbackService,b=e.isLoading,h=e.setIsLoading,y=e.maxPlayers,S=e.currentPlayersCount,E=li((0,D.useState)(u),2),w=E[0],I=E[1],P=(null==f?void 0:f.id)===F.authenticatedUser.id,x=!!c,T=x&&!d,N=(0,D.useContext)(oi);(0,D.useEffect)(function(){I(u)},[u]);var C=di&&0<di?null==v?void 0:v.slice(0,di):v,e=0<c,E=e&&P,e=E||null!==t&&(!e&&l||E),E=0<S-C.length&&"+".concat(S-C.length);return A().createElement("li",{className:"rbx-".concat(r,"game-server-item col-md-3 col-sm-4 col-xs-6")},A().createElement("div",{className:"card-item"},A().createElement("div",{className:"player-thumbnails-container"},C.map(function(e){return A().createElement(vi,{key:e.playerToken,player:e})}),!!E&&A().createElement("span",{className:"avatar avatar-headshot-md player-avatar hidden-players-placeholder"},E)),A().createElement("div",{className:te()("rbx-".concat(r,"game-server-details"),"game-server-details",{"border-right":a===mi.Vip.key})},(!!s||!!e)&&A().createElement("div",{className:"section-header"},s&&A().createElement("span",{className:"font-bold"},s),A().createElement(qa,{className:"link-menu rbx-".concat(r,"game-server-menu"),translate:n,placeId:i,gameId:t,vipServerId:c,isOwner:P,canManagePlace:l,shutdownServer:function(){b&&g.warning(n(ui.shutdownServerError)),h(!0),ca(i,t,c).then(function(){g.success(n(ui.shutdownServerSuccess)),p()},function(){g.warning(n(ui.shutdownServerError))}).finally(function(){h(!1)})},subscription:w,setSubscription:I,isLoading:b,systemFeedbackService:g})),x&&A().createElement(ti,{ownerUserId:f.id,ownerName:f.displayName,ownerHasVerifiedBadge:f.hasVerifiedBadge}),A().createElement("div",{className:"text-info rbx-game-status rbx-".concat(r,"game-server-status text-overflow")},o),A().createElement(fi,{maxPlayerCount:y,currentPlayerCount:S}),!x&&A().createElement(ii,{translate:n,players:v}),m&&A().createElement("div",{className:"rbx-".concat(r,"game-server-alert")},A().createElement("span",{className:"icon-remove"}),n(ui.slowGameWarning)),x&&A().createElement($a,{privateServerId:c,isPaymentCancelled:!(null!=w&&w.active)&&0<(null==w?void 0:w.price),isInsufficientFunds:null==w?void 0:w.hasInsufficientFunds,isServerInactive:T,canRenew:(null==w?void 0:w.canRenew)&&!(null!=w&&w.active),setSubscription:I,isLoading:b,systemFeedbackService:g}),!T&&!(null!=w&&w.isExpired)&&A().createElement("span",{"data-placeid":i},A().createElement(k.Button,{className:"btn-full-width btn-control-xs rbx-".concat(r,"game-server-join game-server-join-btn"),onClick:Ta(i,{instanceId:t,accessCode:d},a),isDisabled:b||N.disableJoinButtonForFullServers&&y<=S},n(ui.joinServerText))))))}pi.defaultProps={id:null,cssKey:"",serverListType:"",canManagePlace:!1,name:"",vipServerId:0,accessCode:"",showSlowGameMessage:!1,owner:void 0,vipServerSubscription:void 0,players:[],maxPlayers:0,currentPlayersCount:0},pi.propTypes={id:ln().string,translate:ln().func.isRequired,cssKey:ln().string,serverListType:ln().string,placeId:ln().number.isRequired,name:ln().string,vipServerId:ln().number,maxPlayers:ln().number,currentPlayersCount:ln().number,vipServerSubscription:{canRenew:ln().bool.isRequired,active:ln().bool.isRequired,hasInsufficientFunds:ln().bool.isRequired,price:ln().number.isRequired,expired:ln().bool.isRequired},accessCode:ln().string,gameServerStatus:ln().string.isRequired,canManagePlace:ln().bool,showSlowGameMessage:ln().bool,owner:{id:ln().number.isRequired,name:ln().string.isRequired,displayName:ln().string.isRequired,hasVerifiedBadge:ln().bool.isRequired},players:ln().arrayOf(ln().any),onShutdownServerSuccess:ln().func.isRequired,isLoading:ln().bool.isRequired,setIsLoading:ln().func.isRequired,systemFeedbackService:ln().shape({success:ln().func.isRequired,warning:ln().func.isRequired}).isRequired};var gi=pi,bi=function(){return(bi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},hi=G,yi=T,Si=(0,t.withTranslations)(function(e){var t=e.translate,n=e.options,r=e.setOptions,e=void 0!==(e=e.isLoading)&&e;return A().createElement("div",{className:"server-list-options"},A().createElement("div",{className:"select-group"},A().createElement("label",{className:"select-label text-label",htmlFor:"sort-select"},t(hi.numberOfPlayers)||"Number of Players"),A().createElement("div",{className:"rbx-select-group select-group"},A().createElement("select",{onChange:function(t){E.EventStream.SendEventWithTarget("serverListOptionsInteraction","sortSelect",{pid:xa(),sort:t.currentTarget.value},E.EventStream.TargetTypes.WWW),r(function(e){return bi(bi({},e),{sortOrder:t.currentTarget.value})})},onFocus:function(){E.EventStream.SendEventWithTarget("serverListOptionsInteraction","sortDropdown",{pid:xa()},E.EventStream.TargetTypes.WWW)},disabled:e,value:n.sortOrder,id:"sort-select","data-testid":"sort-select",className:"input-field rbx-select select-option"},A().createElement("option",{value:yi.descending},t(hi.descending)||"Descending"),A().createElement("option",{value:yi.ascending},t(hi.ascending)||"Ascending")),A().createElement("span",{className:"icon-arrow icon-down-16x16"}))),A().createElement("div",{className:"checkbox"},A().createElement("input",{onChange:function(t){E.EventStream.SendEventWithTarget("serverListOptionsInteraction","filterSelect",{pid:xa(),checked:t.currentTarget.checked},E.EventStream.TargetTypes.WWW),r(function(e){return bi(bi({},e),{excludeFullGames:t.currentTarget.checked})})},disabled:e,type:"checkbox",id:"filter-checkbox","data-testid":"filter-checkbox",checked:n.excludeFullGames}),A().createElement("label",{className:"checkbox-label text-label",htmlFor:"filter-checkbox"},t(hi.hideFullServers)||"Hide Full Servers")))},v);function Ei(){return(Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ii(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pi=(T=wi((0,k.createSystemFeedback)(),2))[0],xi=T[1],Ti=y,Ni=G,Ci=P,Li=s;function Di(e){var t=e.gameInstances,d=e.handleGameInstanceShutdownAtIndex,n=e.headerTitle,m=e.isLoading,r=e.loadMoreGameInstances,a=e.loadingError,f=e.placeId,i=e.refreshGameInstances,v=e.setIsLoading,o=e.showLoadMoreButton,p=e.translate,g=e.type,b=e.userCanManagePlace,h=g?"".concat(g,"-"):"",l=0===t.length,s="rbx-".concat(h,"running-games-footer"),c="rbx-".concat(h,"running-games"),u="card-list rbx-".concat(h,"game-server-item-container"),y="rbx-".concat(h,"game-server-item-container"),S=(0,D.useMemo)(function(){var e=t.length%Ci;return 0<e&&o?t.slice(0,-1*e):t},[t,o]),e=wi((0,D.useState)(Li),2),E=e[0],e=e[1];return(0,D.useEffect)(function(){null!=i&&i(E)},[E]),A().createElement(D.Fragment,null,A().createElement(Pi,null),A().createElement("div",{id:c,className:"stack server-list-section","data-placeid":f,"data-showshutdown":!0},n&&A().createElement("div",{className:"container-header"},A().createElement("div",{className:"server-list-container-header"},A().createElement("h2",{className:"server-list-header"},n),A().createElement(k.Button,{className:"btn-more rbx-refresh refresh-link-icon",isDisabled:m,onClick:function(){return i(E)},size:k.Button.sizes.extraSmall,variant:k.Button.variants.control},p(Ni.privateServerRefreshText)||"Refresh")),""===g&&A().createElement(Si,{isLoading:m,options:E,setOptions:e,translate:p})),l?A().createElement("div",{className:"section-content-off empty-game-instances-container"},m?A().createElement(k.Loading,null):A().createElement("p",{className:"no-servers-message"},a?p(Ni.loadServersError)||"Unable to load servers.":p(Ni.noServersFoundText))):A().createElement(D.Fragment,null,A().createElement("ul",{id:y,className:u},S.map(function(e,t){var n=e.accessCode,r=e.id,a=e.maxPlayers,i=e.name,o=e.owner,l=e.pfs,s=e.players,c=e.playing,u=e.vipServerId,e=e.vipServerSubscription;return A().createElement(gi,Ei({key:u},{accessCode:n,canManagePlace:b,cssKey:h,currentPlayersCount:c||s.length,gameServerStatus:p(Ni.playerCountText,{currentPlayers:c||s.length,maximumAllowedPlayers:a}),id:r,isLoading:m,maxPlayers:a,name:i,onShutdownServerSuccess:function(){d(t)},owner:o,placeId:f,players:s,serverListType:g,setIsLoading:v,showSlowGameMessage:l<Ti,systemFeedbackService:xi,translate:p,vipServerId:u,vipServerSubscription:e}))})),A().createElement("div",{className:s},o&&A().createElement(k.Button,{className:"rbx-running-games-load-more",isDisabled:m,onClick:function(){return r(E)},type:"button",variant:k.Button.variants.control,width:k.Button.widths.full},p(Ni.loadMoreButtonText))))))}Di.defaultProps={type:"",showLoadMoreButton:!1,loadMoreButtonText:"",headerTitle:"",gameInstances:[]},Di.propTypes={translate:ln().func.isRequired,type:ln().string,placeId:ln().number.isRequired,headerTitle:ln().string,loadMoreGameInstances:ln().func.isRequired,showLoadMoreButton:ln().bool,loadMoreButtonText:ln().string,gameInstances:ln().arrayOf(ln().any),refreshGameInstances:ln().func.isRequired,handleGameInstanceShutdownAtIndex:ln().func.isRequired,userCanManagePlace:ln().bool.isRequired,isLoading:ln().bool.isRequired,setIsLoading:ln().func.isRequired,loadingError:ln().bool.isRequired};var Ai=(0,t.withTranslations)(Di,v),ki=(v={gameDetailTabs:v={about:"tab-about",store:"tab-store",servers:"tab-game-instances"},gameDetailHashesToTabs:{"#!/about":v.about,"#!/store":v.store,"#!/game-instances":v.servers}}).gameDetailTabs;function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oi(){if(!Ui())return null;var e=Fi[window.location.hash];return e||Mi.about}var Mi=v.gameDetailTabs,Fi=v.gameDetailHashesToTabs,Ui=function(){var t=document.getElementById("horizontal-tabs");if(t){var e=Object.values(ki);try{e.forEach(function(e){if(!t.querySelector("#".concat(e)))throw new Error("Unable to find horizontal tab with id ".concat(e))})}catch(e){return console.log(e.message),!1}return!0}return!1},ji=function(){function e(){r(Oi())}var t=Ri((0,D.useState)(Oi()),2),n=t[0],r=t[1];return(0,D.useEffect)(function(){return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}},[]),n};function Bi(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Vi(l){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=l.apply(e,o);function a(e){Bi(r,t,n,a,i,"next",e)}function i(e){Bi(r,t,n,a,i,"throw",e)}a(void 0)})}}function qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wi(e){return JSON.parse(JSON.stringify(e))}var zi=p,_i=s,Ji=function(o){var l=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=(E=zi()).gameDetailCanCreateServer,s=E.gameDetailPlaceId,t=E.gameDetailPlaceName,n=E.gameDetailPrivateServerPrice,r=E.gameDetailPrivateServerProductId,a=E.gameDetailSellerId,i=E.gameDetailSellerName,c=E.gameDetailUniverseId,u=E.gameDetailUserCanManagePlace,d=(w=qi((0,D.useState)(!1),2))[0],m=w[1],f=(S=qi((0,D.useState)(!1),2))[0],v=S[1],p=(E=qi((0,D.useState)([]),2))[0],g=E[1],b=(w=qi((0,D.useState)(""),2))[0],h=w[1],y=(0,D.useCallback)(Vi(regeneratorRuntime.mark(function e(){var t,n,r,a,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:{},n=1<i.length&&void 0!==i[1]&&i[1],d)throw Error("Cannot load more servers while a request is in flight");e.next=4;break;case 4:return m(!0),v(!1),e.prev=6,e.next=9,o(s,n?"":b,t);case 9:return r=e.sent,a=r.data,r=a.data,a=a.nextPageCursor,e.next=15,Promise.all(r.map(function(){var t=Vi(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.players&&(t.players=[]),n=t.players,r=t.playerTokens,a={},n.forEach(function(e){a[e.playerToken]=e}),r.forEach(function(e){null==a[e]&&n.push({id:null,name:null,playerToken:e,displayName:null})}),l&&t.vipServerId&&(null===(r=t.owner)||void 0===r?void 0:r.id)===F.authenticatedUser.id)return i=t.vipServerId,e.prev=7,e.next=10,da(i);e.next=17;break;case 10:i=e.sent,i=i.data,t.vipServerSubscription=i.subscription,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}},e,null,[[7,15]])}));return function(e){return t.apply(this,arguments)}}()));case 15:g(n?r:function(e,t){var n=Wi(e),r={};return n.forEach(function(e){void 0!==e.id&&(r[e.id]=e)}),t.forEach(function(e){var t=r[e.id];t?Object.assign(t,e):n.push(e)}),n}(p,r)),h(a),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(6),g([]),h(""),v(!0);case 24:return e.prev=24,m(!1),e.finish(24);case 27:case"end":return e.stop()}},e,null,[[6,19,24,27]])})),[d,s,b,p,o,l]),S=(0,D.useCallback)(function(e){if(d)throw Error("Cannot remove server from list while a request is in flight");var t=Wi(p);t.splice(e,1),g(t)},[d,p]),E=(0,D.useCallback)(function(e){if(d)throw Error("Cannot clear server while a request is in flight");var t=Wi(p),e=t[e];e.playerTokens=[],e.players=[],e.playing=0,e.id=null,g(t)},[d,p]),w=(0,D.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(d)throw Error("Cannot refresh server list while a request is in flight");y(e,!0)},[d,y]);return(0,D.useEffect)(function(){y(_i)},[]),{metaData:{universeId:c,placeId:s,placeName:t,canCreateServer:e,price:n,userCanManagePlace:u,sellerId:a,sellerName:i,privateServerProductId:r},servers:p,loadMoreServers:y,removeServerAtIndex:S,clearServerAtIndex:E,refreshServers:w,hasNext:!!b,isBusy:d,setIsBusy:m,hasError:f}};function Ki(){return(Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Yi=v.gameDetailTabs,Qi=G,$i=x;function Xi(e){var t=e.translate,n=e.showServers,r=e.intl,a=Ji(sa,n),i=a.clearServerAtIndex,o=a.hasError,l=a.hasNext,s=a.isBusy,c=a.loadMoreServers,u=a.metaData,d=u.canCreateServer,m=u.placeId,f=u.placeName,v=u.price,p=u.privateServerProductId,g=u.sellerId,b=u.sellerName,h=u.universeId,y=u.userCanManagePlace,S=a.refreshServers,E=a.servers,w=a.setIsBusy,I=ji();(0,D.useEffect)(function(){I===Yi.servers&&S()},[I]);var P,u=(e=E,P=Ca().gameDetailPrivateServerLimit,e.forEach(function(e){e.owner.id===F.authenticatedUser.id&&--P}),0<P),a=0!==p,e='<a class="text-link" href="#!/game-instances">'.concat(t(Qi.serversText),"</a>"),r='<a class="text-link" href="'.concat(ea(r.getRobloxLocale()),'">').concat(t(Qi.privateServerHeader),"</a>");return A().createElement("div",{id:"rbx-private-servers",className:"stack"},A().createElement("div",{className:"container-header"},A().createElement("h2",null,t(Qi.privateServerHeader)),n&&a&&A().createElement(k.Button,{className:"btn-more rbx-refresh refresh-link-icon",isDisabled:s,onClick:function(){return S()},size:k.Button.sizes.extraSmall,variant:k.Button.variants.control},t(Qi.privateServerRefreshText)),A().createElement(k.Tooltip,{content:t(Qi.privateServerTooltip),id:"private-server-tooltip",placement:"bottom"},A().createElement("span",{className:"icon-moreinfo"}))),a?A().createElement(D.Fragment,null,A().createElement("div",{className:"create-server-banner section-content remove-panel"},A().createElement("div",{className:"create-server-banner-text text"},d&&A().createElement("span",{className:"private-server-price",dangerouslySetInnerHTML:{__html:t(Qi.privateServerPrice,{price:(0,_r.renderToString)(A().createElement(Jr.PriceLabel,{price:v}))})}}),A().createElement("span",{className:"play-with-others-text"},t(Qi.privateServerPlayWithOthers),A().createElement("br",null),!n&&A().createElement("span",{dangerouslySetInnerHTML:{__html:t(Qi.seeAllPrivateServersText,{serversLink:e})}}))),d&&A().createElement(wa,Ki({privateServerTranslate:t,refreshServers:S},{placeName:f,universeId:h,price:v,canCreatePrivateServer:u,sellerId:g,sellerName:b,productId:p}))),A().createElement("div",{className:"section tab-server-only"},n&&A().createElement(Ai,{gameInstances:E,handleGameInstanceShutdownAtIndex:i,isLoading:s,loadMoreGameInstances:c,loadingError:o,placeId:m,setIsLoading:w,showLoadMoreButton:l,type:$i.Vip.key,userCanManagePlace:y}))):A().createElement("div",{className:"section-content-off",dangerouslySetInnerHTML:{__html:t(Qi.privateServersNotSupported,{vipServersLink:r})}}))}Xi.defaultProps={showServers:!0},Xi.propTypes={intl:ln().shape({getRobloxLocale:ln().func.isRequired}).isRequired,showServers:ln().bool,translate:ln().func.isRequired};var Zi=(0,t.withTranslations)(Xi,g),eo=E.SocialLinksJumbotron.SocialLinkJumbotronType,to=(0,t.withTranslations)(function(e){var t=e.translate,n=Le()||{},e=n.universeId,e=void 0===e?"":e,n=n.placeId,n=void 0===n?"":n;return A().createElement("div",{className:"game-about-tab-container"},A().createElement(Xt,{universeId:e,placeId:n,translate:t}),A().createElement(E.SocialLinksJumbotron,{type:eo.Game,targetId:e}),A().createElement(Zi,{showServers:!1,translate:void 0,intl:void 0}),A().createElement(E.GameBadgesList,{universeId:e}),A().createElement(zr,null),A().createElement("div",{className:"container-list games-detail"},A().createElement(dr,null)))},R),no="game-details-play-button-container",ro=function(){return document.getElementById(no)},ao="game-details-about-tab-container",io=function(){return document.getElementById(ao)};(0,w.ready)(function(){oe()&&(e=void 0===(r=(a=Le()).universeId)?"":r,t=void 0===(i=a.placeId)?"":i,(0,o.render)(A().createElement(Ne,{universeId:e,placeId:t,delay:se.delay}),oe())),ro()&&(0,o.render)(A().createElement(ft,null),ro()),io()&&(0,o.render)(A().createElement(to,null),io());var e,t,n=Le(),r=n.experienceInviteLinkId,a=void 0===r?"":r,i=n.experienceInviteStatus,r=void 0===i?"":i;a&&(r===E.ShareLinks.ExperienceInviteStatus.INVITER_NOT_IN_EXPERIENCE||r===E.ShareLinks.ExperienceInviteStatus.EXPIRED)&&X()&&(e=void 0===(i=(n=Le()).universeId)?"":i,t=void 0===(n=n.placeId)?"":n,(0,o.render)(A().createElement(Z,{linkId:a,linkStatus:r,placeId:t,universeId:e}),X()))})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/78ddad8663d47dd9f2390035e781d3ed-gameDetails.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameDetails");