!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getState:function(){return j},lock:function(){return J},unlock:function(){return z}});var n={};e.r(n),e.d(n,{getMetadata:function(){return ne}});var r={};e.r(r),e.d(r,{getEmailConfiguration:function(){return ce},updateForCurrentUser:function(){return se}});var o={};e.r(o),e.d(o,{getDetailsForUniverseIds:function(){return fe}});var i={};e.r(i),e.d(i,{getMySettingsInfo:function(){return Se}});var a={};e.r(a),e.d(a,{getMetadata:function(){return Ue},resendCode:function(){return Re},sendCodeForUser:function(){return we},validateCode:function(){return Ie}});var u={};e.r(u),e.d(u,{changeForCurrentUser:function(){return Be},resetSendPrompted:function(){return Ye},validate:function(){return Ge}});var s={};e.r(s),e.d(s,{getPhoneConfiguration:function(){return Je}});var c={};e.r(c),e.d(c,{disconnectPlaystation:function(){return ut},getPlaystationConnection:function(){return at}});var l={};e.r(l),e.d(l,{getAllForCurrentUser:function(){return vt},updateForCurrentUser:function(){return At}});var d={};e.r(d),e.d(d,{getPuzzle:function(){return Pt},verifyPuzzle:function(){return wt}});var p={};e.r(p),e.d(p,{generateToken:function(){return gt}});var f={};e.r(f),e.d(f,{verifyPuzzle:function(){return Bt}});var E={};e.r(E),e.d(E,{answerQuestion:function(){return Zt},getQuestion:function(){return Jt}});var m={};e.r(m),e.d(m,{getSessions:function(){return fn},logoutFromAllSessionsAndReauthenticate:function(){return mn},logoutSession:function(){return En}});var h={};e.r(h),e.d(h,{getIconsForUniverseIds:function(){return Tn}});var S={};e.r(S),e.d(S,{deleteSecurityKey:function(){return mr},disableAuthenticator:function(){return rr},disableEmailTwoStepVerification:function(){return $n},disableSmsTwoStepVerification:function(){return lr},enableAuthenticator:function(){return er},enableEmailTwoStepVerification:function(){return zn},enableSecurityKey:function(){return dr},enableSmsTwoStepVerification:function(){return ur},enableVerifyAuthenticator:function(){return tr},enableVerifySecurityKey:function(){return pr},generateRecoveryCodes:function(){return ar},generateResaleFrictionChallenge:function(){return Tr},generateSpendFrictionChallenge:function(){return _r},generateTradeFrictionChallenge:function(){return Nr},getMetadata:function(){return qn},getRecoveryCodesStatus:function(){return ir},getResaleFrictionStatus:function(){return Ar},getSecurityKeyOptions:function(){return fr},getSpendFrictionStatus:function(){return Sr},getTradeFrictionStatus:function(){return vr},getUserConfiguration:function(){return jn},listSecurityKey:function(){return hr},redeemResaleFrictionChallenge:function(){return Cr},redeemSpendFrictionChallenge:function(){return Or},redeemTradeFrictionChallenge:function(){return br},retractCrossDevice:function(){return wr},retryCrossDevice:function(){return yr},sendEmailCode:function(){return Jn},sendSmsCode:function(){return sr},verifyAuthenticatorCode:function(){return nr},verifyCrossDevice:function(){return Pr},verifyEmailCode:function(){return Zn},verifyRecoveryCode:function(){return or},verifySecurityKeyCredential:function(){return Er},verifySmsCode:function(){return cr}});var v={};e.r(v),e.d(v,{getSettingsUiPolicy:function(){return Mr}});var A={};e.r(A),e.d(A,{disconnectXbox:function(){return Yr},getXboxConnection:function(){return Br}});var _={};e.r(_),e.d(_,{recordMetric:function(){return qr}});var N={};e.r(N),e.d(N,{getPatToken:function(){return to}});var T={};e.r(T),e.d(T,{continueChallenge:function(){return so}});var O={};e.r(O),e.d(O,{deletePasskeyBatch:function(){return Ao},finishPasskeyRegistration:function(){return vo},listAllCredentials:function(){return _o},startPasskeyRegistration:function(){return So}});var b={};e.r(b),e.d(b,{getNativeResponse:function(){return Oo},getNavigatorCredentials:function(){return bo}});var C,y,P=Roblox,w=e.n(P),R=React,I=e.n(R),U=ReactDOM,D=CoreUtilities,g=function(e){return{isError:!1,value:e}},L=g,M=function(e,t,n){return void 0===n&&(n=null),{isError:!0,error:e,errorRaw:t,errorStatusCode:n}},k=function(e,t){return e.isError?e:g(t(e.value))},F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},V=function(e){return"object"!=typeof e?null:function(e){var t=[];if(!e||"object"!=typeof e)return[];var n=e.errors;return n instanceof Array?(n.forEach((function(e){if(e&&"object"==typeof e){var n=e.code;"number"==typeof n&&t.push(n)}})),t):[]}(e.data)[0]||null},H=function(e,t){return null==e?null:Object.values(e).includes(t)?t:null},W=function(e,t,n){return F(void 0,void 0,Promise,(function(){var r,o,i,a;return x(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,e];case 1:return r=u.sent(),void 0!==n?[2,L(n(r.data))]:[2,L(r.data)];case 2:return o=u.sent(),i=V(o),a=function(e){if("object"!=typeof e||null===e)return null;var t=e.status||null;return"number"!=typeof t?null:t}(o),[2,M(H(t,i),o,a)];case 3:return[2]}}))}))},B=function(e,t,n,r){return void 0===n&&(n=V),F(void 0,void 0,Promise,(function(){var o,i,a;return x(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,e];case 1:return o=u.sent(),void 0!==r?[2,L(r(o))]:[2,L(o)];case 2:return i=u.sent(),a=n(i),[2,M(H(t,a),i,0)];case 3:return[2]}}))}))},Y=null!==(C=P.EnvironmentUrls.authApi)&&void 0!==C?C:"URL_NOT_FOUND";!function(e){e[e.NO_ACCOUNT_PIN=1]="NO_ACCOUNT_PIN",e[e.ACCOUNT_LOCKED=2]="ACCOUNT_LOCKED",e[e.FLOODED=3]="FLOODED",e[e.INCORRECT_PIN=4]="INCORRECT_PIN"}(y||(y={}));var G,K,Q={withCredentials:!0,url:Y+"/v1/account/pin",timeout:1e4},X={withCredentials:!0,url:Y+"/v1/account/pin/unlock",timeout:1e4},q={withCredentials:!0,url:Y+"/v1/account/pin/lock",timeout:1e4},j=function(){return W(D.httpService.get(Q),y)},z=function(e){return W(D.httpService.post(X,{pin:e}),y)},J=function(){return W(D.httpService.post(q),y)},Z=(null!==(G=P.EnvironmentUrls.apiGatewayCdnUrl)&&void 0!==G?G:"URL_NOT_FOUND")+"/captcha";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(K||(K={}));var $,ee,te={url:Z+"/v1/metadata",timeout:6e4},ne=function(){return W(D.httpService.get(te,{}),K)},re=null!==($=P.EnvironmentUrls.accountSettingsApi)&&void 0!==$?$:"URL_NOT_FOUND";!function(e){e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.TOO_MANY_ACCOUNTS_ON_EMAIL=3]="TOO_MANY_ACCOUNTS_ON_EMAIL",e[e.TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL=6]="TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL",e[e.INVALID_EMAIL_ADDRESS=9]="INVALID_EMAIL_ADDRESS"}(ee||(ee={}));var oe,ie,ae={withCredentials:!0,url:re+"/v1/email",timeout:1e4},ue={withCredentials:!0,url:re+"/v1/email",timeout:1e4},se=function(e){return W(D.httpService.post(ae,{emailAddress:e,skipVerificationEmail:!0}),ee)},ce=function(){return W(D.httpService.get(ue),ee)},le=null!==(oe=P.EnvironmentUrls.gamesApi)&&void 0!==oe?oe:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(ie||(ie={}));var de,pe={url:le+"/v1/games",timeout:1e4},fe=function(e){return W(D.httpService.get(pe,{universeIds:e}),ie)};!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(de||(de={}));var Ee,me,he={withCredentials:!0,url:"/my/settings/json",timeout:1e4},Se=function(){return W(D.httpService.get(he,{}),de)},ve=(null!==(Ee=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Ee?Ee:"URL_NOT_FOUND")+"/otp-service";!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.UNKNOWN=1]="UNKNOWN",e[e.INVALID_CODE=2]="INVALID_CODE",e[e.INVALID_SESSION_TOKEN=3]="INVALID_SESSION_TOKEN",e[e.CODE_EXPIRED=4]="CODE_EXPIRED",e[e.UNVALIDATED_SESSION_TOKEN=5]="UNVALIDATED_SESSION_TOKEN",e[e.TOO_MANY_REQUESTS=6]="TOO_MANY_REQUESTS",e[e.CONTACT_MALFORMED=7]="CONTACT_MALFORMED",e[e.VPN_REQUIRED=8]="VPN_REQUIRED",e[e.UNAUTHENTICATED=9]="UNAUTHENTICATED",e[e.METHOD_UNAVAILABLE=10]="METHOD_UNAVAILABLE"}(me||(me={}));var Ae,_e,Ne,Te={withCredentials:!0,url:ve+"/v1/sendCodeForUser",timeout:1e4},Oe={withCredentials:!0,url:ve+"/v1/resendCode",timeout:1e4},be={withCredentials:!0,url:ve+"/v1/validateCode",timeout:1e4},Ce={withCredentials:!0,url:ve+"/v1/metadata",timeout:1e4};!function(e){e.Unset="Unset",e.Email="Email"}(Ae||(Ae={})),function(e){e.Reauth="Reauth"}(_e||(_e={})),function(e){e.Default="Default"}(Ne||(Ne={}));var ye,Pe,we=function(e){return W(D.httpService.post(Te,{contactType:e,origin:_e.Reauth,messageVariant:Ne.Default}),me)},Re=function(e,t){return W(D.httpService.post(Oe,{contactType:e,origin:_e.Reauth,otpSessionToken:t}),me)},Ie=function(e,t,n){return W(D.httpService.post(be,{contactType:e,origin:_e.Reauth,passCode:n,otpSessionToken:t}),me)},Ue=function(){return W(D.httpService.get(Ce,{Origin:_e.Reauth}),me)},De=null!==(ye=P.EnvironmentUrls.authApi)&&void 0!==ye?ye:"URL_NOT_FOUND";!function(e){e[e.FLOODED=2]="FLOODED",e[e.INVALID_PASSWORD=7]="INVALID_PASSWORD",e[e.INVALID_CURRENT_PASSWORD=8]="INVALID_CURRENT_PASSWORD",e[e.PIN_LOCKED=9]="PIN_LOCKED"}(Pe||(Pe={}));var ge,Le={withCredentials:!0,url:De+"/v2/user/passwords/change",timeout:1e4};!function(e){e[e.USER_DOES_NOT_HAVE_EMAIL=22]="USER_DOES_NOT_HAVE_EMAIL"}(ge||(ge={}));var Me,ke={withCredentials:!0,url:De+"/v2/passwords/reset/send-prompted",timeout:1e4};!function(e){e[e.VALID_PASSWORD=0]="VALID_PASSWORD",e[e.WEAK_PASSWORD=1]="WEAK_PASSWORD",e[e.SHORT_PASSWORD=2]="SHORT_PASSWORD",e[e.PASSWORD_SAME_AS_USERNAME=3]="PASSWORD_SAME_AS_USERNAME",e[e.FORBIDDEN_PASSWORD=4]="FORBIDDEN_PASSWORD",e[e.DUMB_STRINGS=5]="DUMB_STRINGS"}(Me||(Me={}));var Fe,xe,Ve={withCredentials:!0,url:De+"/v2/passwords/validate",timeout:1e4},He=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},We=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Be=function(e,t){return W(D.httpService.post(Le,{currentPassword:e,newPassword:t}),Pe)},Ye=function(){return W(D.httpService.post(ke),ge)},Ge=function(e,t){return He(void 0,void 0,Promise,(function(){return We(this,(function(n){return[2,W(D.httpService.post(Ve,{username:e,password:t}),null).then((function(e){return k(e,(function(e){return H(Me,e.code)}))}))]}))}))},Ke=null!==(Fe=P.EnvironmentUrls.accountInformationApi)&&void 0!==Fe?Fe:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(xe||(xe={}));var Qe,Xe,qe={withCredentials:!0,url:Ke+"/v1/phone",timeout:1e4},je=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ze=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Je=function(){return je(void 0,void 0,Promise,(function(){return ze(this,(function(e){return[2,W(D.httpService.get(qe,{}),xe)]}))}))},Ze=null!==(Qe=P.EnvironmentUrls.authApi)&&void 0!==Qe?Qe:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Xe||(Xe={}));var $e,et,tt,nt,rt,ot={withCredentials:!0,url:Ze+"/v1/"+"palisades-live/is-live",timeout:1e4},it={withCredentials:!0,url:Ze+"/v1/"+"palisades-live/disconnect",timeout:1e4},at=function(){return W(D.httpService.get(ot,{}),Xe)},ut=function(){return W(D.httpService.post(it,{}),Xe)},st=(null!==($e=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==$e?$e:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PROMPT_ASSIGNMENT_WAS_NOT_UPDATED=3]="PROMPT_ASSIGNMENT_WAS_NOT_UPDATED",e[e.UNKNOWN_PROMPT_TYPE=4]="UNKNOWN_PROMPT_TYPE"}(et||(et={})),function(e){e.TEXT_ONLY_BANNER="DISPLAY_TYPE_TEXT_ONLY_BANNER"}(tt||(tt={})),function(e){e.GLOBAL="PAGE_RESTRICTION_GLOBAL",e.HOME_PAGE_ONLY="PAGE_RESTRICTION_HOME_PAGE"}(nt||(nt={})),function(e){e.CHANGE_PASSWORD__SUSPECTED_COMPROMISE="PROMPT_TYPE_CHANGE_PASSWORD__SUSPECTED_COMPROMISE",e.CHANGE_PASSWORD__BREACHED_CREDENTIAL="PROMPT_TYPE_CHANGE_PASSWORD__BREACHED_CREDENTIAL",e.AUTHENTICATOR_UPSELL="PROMPT_TYPE_AUTHENTICATOR_UPSELL",e.ACCOUNT_RESTORES_POLICY_UPDATE="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE",e.ACCOUNT_RESTORES_POLICY_UPDATE_V2="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V2",e.ACCOUNT_RESTORES_POLICY_UPDATE_V3="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V3",e.ACCOUNT_RESTORES_POLICY_UPSELL="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPSELL",e.BROADER_AUTHENTICATOR_UPSELL="PROMPT_TYPE_BROADER_AUTHENTICATOR_UPSELL",e.EMAIL_2SV_UPSELL="PROMPT_TYPE_EMAIL_2SV_UPSELL"}(rt||(rt={}));var ct,lt={withCredentials:!0,url:st+"/v1/prompt-assignments",timeout:1e4};!function(e){e.DISMISS_PROMPT="DISMISS_PROMPT",e.DISABLE_PROMPT="DISABLE_PROMPT"}(ct||(ct={}));var dt,pt,ft,Et={withCredentials:!0,url:st+"/v1/prompt-assignments",timeout:1e4},mt=function(){return(mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ht=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},St=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},vt=function(){return ht(void 0,void 0,Promise,(function(){var e;return St(this,(function(t){switch(t.label){case 0:return[4,W(D.httpService.get(lt,{shouldReturnMetadata:!0}),et)];case 1:return(e=t.sent()).isError?[2,e]:[2,e=mt(mt({},e),{value:e.value.filter((function(e){return e.isGeneric?Object.values(tt).includes(e.metadata.displayType):Object.values(rt).includes(e.promptType)}))})]}}))}))},At=function(e,t){return W(D.httpService.post(Et,{action:e,promptType:t}),et)},_t=(null!==(dt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==dt?dt:"URL_NOT_FOUND")+"/proof-of-work-service";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.REQUEST_INVALID=1]="REQUEST_INVALID",e[e.SESSION_INACTIVE=2]="SESSION_INACTIVE"}(pt||(pt={})),function(e){e[e.TIME_LOCK=0]="TIME_LOCK"}(ft||(ft={}));var Nt,Tt,Ot={withCredentials:!0,url:_t+"/v1/pow-puzzle",timeout:1e4},bt={withCredentials:!0,url:_t+"/v1/pow-puzzle",timeout:1e4},Ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},yt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Pt=function(e){return W(D.httpService.get(Ot,{sessionID:e}),pt)},wt=function(e,t){return Ct(void 0,void 0,Promise,(function(){return yt(this,(function(n){return[2,W(D.httpService.post(bt,{sessionID:e,solution:t}),pt)]}))}))},Rt=(null!==(Nt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Nt?Nt:"URL_NOT_FOUND")+"/reauthentication-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PASSWORD_INCORRECT=3]="PASSWORD_INCORRECT",e[e.OTP_EMAIL_REDEEM_FAILURE=4]="OTP_EMAIL_REDEEM_FAILURE"}(Tt||(Tt={}));var It,Ut,Dt={withCredentials:!0,url:Rt+"/v1/token/generate",timeout:1e4},gt=function(e){return W(D.httpService.post(Dt,e),Tt)},Lt=(null!==(It=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==It?It:"URL_NOT_FOUND")+"/rostile";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.INVALID_REQUEST=2]="INVALID_REQUEST",e[e.INVALID_SESSION=3]="INVALID_SESSION"}(Ut||(Ut={}));var Mt,kt,Ft,xt,Vt={withCredentials:!0,url:Lt+"/v1/verify",timeout:1e4},Ht=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Wt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Bt=function(e,t){return Ht(void 0,void 0,Promise,(function(){return Wt(this,(function(n){return[2,W(D.httpService.post(Vt,{challengeId:e,solution:t}),Ut)]}))}))},Yt=(null!==(Mt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Mt?Mt:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.SECURITY_QUESTIONS_DISABLED=3]="SECURITY_QUESTIONS_DISABLED",e[e.SESSION_INACTIVE=4]="SESSION_INACTIVE",e[e.QUESTION_NOT_FOUND=5]="QUESTION_NOT_FOUND",e[e.ANSWER_WRONG_FORMAT=6]="ANSWER_WRONG_FORMAT"}(kt||(kt={})),function(e){e[e.INVALID=0]="INVALID",e[e.MOST_RECENT_GAMES_PLAYED=1]="MOST_RECENT_GAMES_PLAYED"}(Ft||(Ft={})),function(e){e[e.PICK_ALL_CORRECT_CHOICES=0]="PICK_ALL_CORRECT_CHOICES",e[e.PICK_C_CORRECT_CHOICES=1]="PICK_C_CORRECT_CHOICES"}(xt||(xt={}));var Gt,Kt,Qt,Xt,qt,jt={withCredentials:!0,url:Yt+"/v1/security-question",timeout:1e4},zt={withCredentials:!0,url:Yt+"/v1/security-question",timeout:1e4},Jt=function(e,t){return W(D.httpService.get(jt,{userId:e,sessionId:t}),kt)},Zt=function(e,t,n){return W(D.httpService.post(zt,{userId:e,answer:t,sessionId:n}),kt)},$t="URL_NOT_FOUND",en=null!==(Gt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Gt?Gt:$t,tn=null!==(Kt=P.EnvironmentUrls.authApi)&&void 0!==Kt?Kt:$t,nn=en+"/token-metadata-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN=3]="ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN"}(Qt||(Qt={})),function(e){e[e.UNKNOWN=1]="UNKNOWN"}(Xt||(Xt={})),function(e){e.UNKNOWN="Unknown",e.APP="App",e.BROWSER="Browser",e.STUDIO="Studio"}(qt||(qt={}));var rn,on,an,un,sn={withCredentials:!0,url:nn+"/v1/sessions",timeout:1e4},cn={withCredentials:!0,url:nn+"/v1/logout",timeout:1e4},ln={withCredentials:!0,url:tn+"/v1/logoutfromallsessionsandreauthenticate",timeout:1e4},dn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},pn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},fn=function(e,t){return dn(void 0,void 0,Promise,(function(){return pn(this,(function(n){return[2,W(D.httpService.get(sn,{nextCursor:e,desiredLimit:t}),Qt)]}))}))},En=function(e){return dn(void 0,void 0,Promise,(function(){return pn(this,(function(t){return[2,W(D.httpService.post(cn,{token:e}),Qt)]}))}))},mn=function(e){return dn(void 0,void 0,Promise,(function(){return pn(this,(function(t){return[2,W(D.httpService.post(ln,{secureAuthenticationIntent:e}),Xt)]}))}))},hn=null!==(rn=P.EnvironmentUrls.thumbnailsApi)&&void 0!==rn?rn:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(on||(on={})),function(e){e.PNG="Png",e.JPEG="Jpeg"}(an||(an={})),function(e){e.ERROR="Error",e.COMPLETED="Completed",e.IN_REVIEW="InReview",e.PENDING="Pending",e.BLOCKED="Blocked"}(un||(un={}));var Sn,vn,An,_n,Nn={url:hn+"/v1/games/icons",timeout:1e4},Tn=function(e,t,n,r){return W(D.httpService.get(Nn,{universeIds:e,size:t,format:n,isCircular:r}),on)},On=CoreRobloxUtilities,bn="URL_NOT_FOUND",Cn=null!==(Sn=P.EnvironmentUrls.twoStepVerificationApi)&&void 0!==Sn?Sn:bn,yn=null!==(vn=P.EnvironmentUrls.economyApi)&&void 0!==vn?vn:bn,Pn=null!==(An=P.EnvironmentUrls.tradesApi)&&void 0!==An?An:bn,wn=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_CHALLENGE_ID=1]="INVALID_CHALLENGE_ID",e[e.INVALID_USER_ID=2]="INVALID_USER_ID",e[e.INVALID_EMAIL=3]="INVALID_EMAIL",e[e.INVALID_PASSWORD=4]="INVALID_PASSWORD",e[e.TOO_MANY_REQUESTS=5]="TOO_MANY_REQUESTS",e[e.PIN_LOCKED=6]="PIN_LOCKED",e[e.FEATURE_DISABLED=7]="FEATURE_DISABLED",e[e.NOT_ALLOWED=8]="NOT_ALLOWED",e[e.INVALID_CONFIGURATION=9]="INVALID_CONFIGURATION",e[e.INVALID_CODE=10]="INVALID_CODE",e[e.CONFIGURATION_ALREADY_ENABLED=11]="CONFIGURATION_ALREADY_ENABLED",e[e.INVALID_SETUP_TOKEN=12]="INVALID_SETUP_TOKEN",e[e.REAUTHENTICATION_REQUIRED=13]="REAUTHENTICATION_REQUIRED",e[e.INVALID_PHONE_NUMBER=15]="INVALID_PHONE_NUMBER",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=16]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.INVALID_CREDENTIAL_NICKNAME=17]="INVALID_CREDENTIAL_NICKNAME",e[e.AUTHENTICATOR_CODE_ALREADY_USED=18]="AUTHENTICATOR_CODE_ALREADY_USED",e[e.CHALLENGE_DENIED=19]="CHALLENGE_DENIED",e[e.CROSS_DEVICE_DIALOG_EXPIRED=20]="CROSS_DEVICE_DIALOG_EXPIRED"}(_n||(_n={}));var Rn,In,Un={url:Cn+"/v1/metadata",withCredentials:!0,timeout:wn},Dn=function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/email/enable",timeout:wn}},gn=function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/authenticator/enable-verify",timeout:wn}},Ln=function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/sms/enable",timeout:wn}},Mn=function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/security-key/enable-verify",timeout:wn}},kn={withCredentials:!0,url:yn+"/v2/spend-friction/two-step-verification/status",timeout:wn},Fn={withCredentials:!0,url:Pn+"/v1/trade-friction/two-step-verification/status",timeout:wn},xn={withCredentials:!0,url:yn+"/v2/resale-friction/two-step-verification/status",timeout:wn},Vn={withCredentials:!0,url:yn+"/v2/spend-friction/two-step-verification/generate",timeout:wn},Hn={withCredentials:!0,url:Pn+"/v1/trade-friction/two-step-verification/generate",timeout:wn},Wn={withCredentials:!0,url:yn+"/v2/resale-friction/two-step-verification/generate",timeout:wn},Bn={withCredentials:!0,url:yn+"/v2/spend-friction/two-step-verification/redeem",timeout:wn},Yn={withCredentials:!0,url:Pn+"/v1/trade-friction/two-step-verification/redeem",timeout:wn},Gn={withCredentials:!0,url:yn+"/v2/resale-friction/two-step-verification/redeem",timeout:wn},Kn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Qn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Xn=On.cryptoUtil.generateSecureAuthIntent,qn=function(e){return W(D.httpService.get(Un,e||{}),_n)},jn=function(e,t){return W(D.httpService.get(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration",timeout:wn}}(e),t||{}),_n)},zn=function(e){return Kn(void 0,void 0,Promise,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return[4,Xn()];case 1:return t=n.sent(),[2,W(D.httpService.post(Dn(e),{secureAuthenticationIntent:t}),_n)]}}))}))},Jn=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/email/send-code",timeout:wn}}(e),t),_n)},Zn=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/email/verify",timeout:wn}}(e),t),_n)},$n=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/email/disable",timeout:wn}}(e),{}),_n)},er=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/authenticator/enable",timeout:wn}}(e),{}),_n)},tr=function(e,t,n){return Kn(void 0,void 0,Promise,(function(){var r;return Qn(this,(function(o){switch(o.label){case 0:return[4,Xn()];case 1:return r=o.sent(),[2,W(D.httpService.post(gn(e),{setupToken:t,code:n,secureAuthenticationIntent:r}),_n)]}}))}))},nr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/authenticator/verify",timeout:wn}}(e),t),_n)},rr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/authenticator/disable",timeout:wn}}(e),{}),_n)},or=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/recovery-codes/verify",timeout:wn}}(e),t),_n)},ir=function(e){return W(D.httpService.get(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/recovery-codes",timeout:wn}}(e)),_n)},ar=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/recovery-codes/regenerate",timeout:wn}}(e),{password:"password"}),_n)},ur=function(e){return Kn(void 0,void 0,Promise,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return[4,Xn()];case 1:return t=n.sent(),[2,W(D.httpService.post(Ln(e),{secureAuthenticationIntent:t}),_n)]}}))}))},sr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/sms/send-code",timeout:wn}}(e),t),_n)},cr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/sms/verify",timeout:wn}}(e),t),_n)},lr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/sms/disable",timeout:wn}}(e),{}),_n)},dr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/security-key/enable",timeout:wn}}(e),{}),_n,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},pr=function(e,t,n,r){return Kn(void 0,void 0,Promise,(function(){var o;return Qn(this,(function(i){switch(i.label){case 0:return[4,Xn()];case 1:return o=i.sent(),[2,W(D.httpService.post(Mn(e),{sessionId:t,credentialNickname:n,attestationResponse:r,secureAuthenticationIntent:o}),_n)]}}))}))},fr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/security-key/verify-start",timeout:wn}}(e),t),_n)},Er=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/security-key/verify-finish",timeout:wn}}(e),t),_n)},mr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/security-key/disable",timeout:wn}}(e),{credentialNicknames:t}),_n)},hr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/configuration/security-key/list",timeout:wn}}(e),{}),_n)},Sr=function(){return W(D.httpService.get(kn,{}),_n)},vr=function(){return W(D.httpService.get(Fn,{}),_n)},Ar=function(){return W(D.httpService.get(xn,{}),_n)},_r=function(){return W(D.httpService.post(Vn,{}),_n)},Nr=function(){return W(D.httpService.post(Hn,{}),_n)},Tr=function(){return W(D.httpService.post(Wn,{}),_n)},Or=function(e,t){return W(D.httpService.post(Bn,{challengeToken:e,verificationToken:t}),_n)},br=function(e,t){return W(D.httpService.post(Yn,{challengeToken:e,verificationToken:t}),_n)},Cr=function(e,t){return W(D.httpService.post(Gn,{challengeToken:e,verificationToken:t}),_n)},yr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/cross-device/retry",timeout:wn}}(e),t),_n)},Pr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/cross-device/verify",timeout:wn}}(e),t),_n)},wr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Cn+"/v1/users/"+e+"/challenges/cross-device/retract",timeout:wn}}(e),t),_n)},Rr=null!==(Rn=P.EnvironmentUrls.universalAppConfigurationApi)&&void 0!==Rn?Rn:"URL_NOT_FOUND";!function(e){e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR"}(In||(In={}));var Ir,Ur,Dr={withCredentials:!0,url:Rr+"/v1/behaviors/account-settings-ui/content",timeout:1e4},gr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Lr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Mr=function(){return gr(void 0,void 0,Promise,(function(){return Lr(this,(function(e){return[2,W(D.httpService.get(Dr,{}),In)]}))}))},kr=null!==(Ir=P.EnvironmentUrls.authApi)&&void 0!==Ir?Ir:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Ur||(Ur={}));var Fr,xr,Vr,Hr={withCredentials:!0,url:kr+"/v1/xbox/connection",timeout:1e4},Wr={withCredentials:!0,url:kr+"/v1/xbox/disconnect",timeout:1e4},Br=function(){return W(D.httpService.get(Hr,{}),Ur)},Yr=function(){return W(D.httpService.post(Wr,{}),Ur)},Gr=(null!==(Fr=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Fr?Fr:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.INVAID_METRIC_NAME=3]="INVAID_METRIC_NAME",e[e.INVALID_METRIC_LABELS=4]="INVALID_METRIC_LABELS"}(xr||(xr={})),function(e){e.Event2sv="event_2sv",e.SolveTime2sv="solve_time_2sv",e.EventCaptcha="event_captcha",e.SolveTimeCaptcha="solve_time_captcha",e.EventPat="event_pat",e.SolveTimePat="solve_time_pat",e.EventPow="event_pow",e.PuzzleComputeTimePow="puzzle_compute_time_pow",e.SolveTimePow="solve_time_pow",e.EventRostile="event_rostile",e.SolveTimeRostile="solve_time_rostile",e.EventSecurityQuestion="event_security_question",e.EventGeneric="event_generic",e.EventReauthentication="event_reauthentication",e.SolveTimeReauthentication="solve_time_reauthentication",e.EventDeviceIntegrity="event_device_integrity",e.SolveTimeDeviceIntegrity="solve_time_device_integrity"}(Vr||(Vr={}));var Kr,Qr,Xr={withCredentials:!0,url:Gr+"/v1/metrics/record",timeout:1e4},qr=function(e){return W(D.httpService.post(Xr,e),xr)},jr=(null!==(Kr=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Kr?Kr:"URL_NOT_FOUND")+"/private-access-token";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Qr||(Qr={}));var zr,Jr,Zr={withCredentials:!0,url:jr+"/v1/getPATToken",timeout:1e4},$r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},eo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},to=function(e){return $r(void 0,void 0,Promise,(function(){return eo(this,(function(t){return[2,W(D.httpService.post(Zr,{challengeId:e}),Qr)]}))}))},no=(null!==(zr=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==zr?zr:"URL_NOT_FOUND")+"/challenge";!function(e){e[e.UNKNOWN=1]="UNKNOWN"}(Jr||(Jr={}));var ro,oo,io={withCredentials:!0,url:no+"/v1/continue",timeout:1e4},ao=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},uo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},so=function(e,t,n){return ao(void 0,void 0,Promise,(function(){return uo(this,(function(r){return[2,W(D.httpService.post(io,{challengeId:e,challengeType:t,challengeMetadata:n}),Jr)]}))}))},co=null!==(ro=P.EnvironmentUrls.authApi)&&void 0!==ro?ro:"URL_NOT_FOUND",lo=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=1]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.INVALID_CREDENTIAL_NICKNAME=3]="INVALID_CREDENTIAL_NICKNAME"}(oo||(oo={}));var po,fo={withCredentials:!0,url:co+"/v1/passkey/StartRegistration",timeout:lo},Eo={withCredentials:!0,url:co+"/v1/passkey/FinishRegistration",timeout:lo},mo={withCredentials:!0,url:co+"/v1/passkey/DeleteCredentialBatch",timeout:lo},ho={withCredentials:!0,url:co+"/v1/passkey/ListCredentials",timeout:lo},So=function(){return W(D.httpService.post(fo,{}),oo,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},vo=function(e,t,n){return W(D.httpService.post(Eo,{sessionId:e,credentialNickname:t,attestationResponse:n}),oo)},Ao=function(e){return W(D.httpService.post(mo,{credentialNicknames:e}),oo)},_o=function(){return W(D.httpService.post(ho,{all:!0}),oo)};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CANCELLATION_ERROR=1]="CANCELLATION_ERROR",e[e.INTERRUPTED_ERROR=2]="INTERRUPTED_ERROR",e[e.INVALID_REQUEST=3]="INVALID_REQUEST",e[e.JSON_EXCEPTION=4]="JSON_EXCEPTION",e[e.CREDENTIALS_PROTOCOL_NOT_SUPPORTED=5]="CREDENTIALS_PROTOCOL_NOT_SUPPORTED",e[e.NO_CREDENTIALS_FOUND=6]="NO_CREDENTIALS_FOUND",e[e.INVALID_STATE_ERROR=11]="INVALID_STATE_ERROR"}(po||(po={}));var No,To=function(e){return e.code},Oo=function(e,t,n){return B(On.hybridResponseService.getNativeResponse(e,t,n),po,To,(function(e){if(null===e)return null;var t=JSON.parse(e);if(void 0!==t.errorCode)throw{name:"getNativeResponse Error",message:t.errorMsg,code:t.errorCode};return!(P.DeviceMeta&&(0,P.DeviceMeta)().isInApp&&(0,P.DeviceMeta)().isAndroidApp)?On.fido2Util.formatCredentialAuthenticationResponseApp(e):e}))},bo=function(e){return B(navigator.credentials.get(e),po).then((function(e){return k(e,(function(e){return null===e?null:On.fido2Util.formatCredentialAuthenticationResponseWeb(e)}))}))},Co=function(){this.accountPin=t,this.captcha=n,this.email=r,this.fido2=b,this.games=o,this.metrics=_,this.myAccount=i,this.otp=a,this.password=u,this.phone=s,this.playstation=c,this.promptAssignments=l,this.securityQuestions=E,this.sessionManagement=m,this.reauthentication=p,this.rostile=f,this.thumbnails=h,this.twoStepVerification=S,this.universalAppConfiguration=v,this.proofOfWork=d,this.xbox=A,this.privateAccessToken=N,this.genericChallenge=T,this.authApi=O},yo=ReactUtilities,Po="Account Security Prompt:",wo="authpopup",Ro="/my/account#!/security?src=",Io="https://en.help.roblox.com/hc/articles/212459863-Add-2-Step-Verification-to-Your-Account",Uo="accountSecurityPromptEvent",Do={modalStateViewed:"modalStateViewed"},go=ReactStyleGuide,Lo=function(e,t){switch(t){case Me.VALID_PASSWORD:return null;case Me.WEAK_PASSWORD:return e.Message.Error.PasswordValidation.WeakPassword;case Me.SHORT_PASSWORD:return e.Message.Error.PasswordValidation.ShortPassword;case Me.PASSWORD_SAME_AS_USERNAME:return e.Message.Error.PasswordValidation.PasswordSameAsUsername;case Me.FORBIDDEN_PASSWORD:return e.Message.Error.PasswordValidation.ForbiddenPassword;case Me.DUMB_STRINGS:return e.Message.Error.PasswordValidation.DumbStrings;default:return e.Message.Error.PasswordValidation.Default}},Mo=function(e,t){switch(t){case y.NO_ACCOUNT_PIN:return e.Message.Error.Pin.NoAccountPin;case y.ACCOUNT_LOCKED:return e.Message.Error.Pin.AccountLocked;case y.FLOODED:return e.Message.Error.Pin.Flooded;case y.INCORRECT_PIN:return e.Message.Error.Pin.IncorrectPin;default:return e.Message.Error.Pin.Default}};!function(e){e.NONE="NONE",e.CHANGE_PASSWORD_INTRO="CHANGE_PASSWORD_INTRO",e.CHANGE_PASSWORD_FORM="CHANGE_PASSWORD_FORM",e.CHANGE_PASSWORD_CONFIRMATION="CHANGE_PASSWORD_CONFIRMATION",e.CHANGE_PASSWORD_DISMISS_CONFIRMATION="CHANGE_PASSWORD_DISMISS_CONFIRMATION",e.ACCOUNT_PIN_FORM="ACCOUNT_PIN_FORM",e.ACCOUNT_PIN_FORM_EXPIRED="ACCOUNT_PIN_FORM_EXPIRED",e.AUTHENTICATOR_UPSELL_OPENING="AUTHENTICATOR_UPSELL_OPENING",e.AUTHENTICATOR_UPSELL_DOWNLOAD_APPS="AUTHENTICATOR_UPSELL_DOWNLOAD_APPS",e.ACCOUNT_RESTORE_POLICY_UPSELL="ACCOUNT_RESTORE_POLICY_UPSELL",e.EMAIL_2SV_UPSELL="EMAIL_2SV_UPSELL"}(No||(No={}));var ko,Fo=No;!function(e){e[e.DISMISS_TEMPORARY=0]="DISMISS_TEMPORARY",e[e.DISMISS_FOREVER=1]="DISMISS_FOREVER",e[e.SET_FLOW_COMPLETE=2]="SET_FLOW_COMPLETE",e[e.SET_MODAL_STATE=3]="SET_MODAL_STATE",e[e.SET_EMAIL_ADDRESS=4]="SET_EMAIL_ADDRESS",e[e.SET_ACCOUNT_PIN_UNLOCKED_UNTIL=5]="SET_ACCOUNT_PIN_UNLOCKED_UNTIL"}(ko||(ko={}));var xo,Vo=function(){return(Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ho=function(e,t){var n=Vo({},e);switch(t.type){case ko.DISMISS_TEMPORARY:case ko.DISMISS_FOREVER:return n.isFlowComplete=!0,n;case ko.SET_MODAL_STATE:return n.lastModalState=e.modalState,n.modalState=t.modalState,n.modalState===Fo.ACCOUNT_PIN_FORM_EXPIRED?n.accountPinUnlockedUntil=null:n.modalState===Fo.CHANGE_PASSWORD_CONFIRMATION&&(n.isFlowComplete=!0),n;case ko.SET_EMAIL_ADDRESS:return n.emailAddress=t.emailAddress,n;case ko.SET_ACCOUNT_PIN_UNLOCKED_UNTIL:return n.accountPinUnlockedUntil=t.accountPinUnlockedUntil,n;default:return e}},Wo=(0,R.createContext)(null),Bo=function(e){var t=e.promptAssignment,n=e.username,r=e.isUserUnder13,o=e.eventService,i=e.requestService,a=e.translate,u=e.children,s=Fo.NONE,c=t.promptType===rt.BROADER_AUTHENTICATOR_UPSELL&&!0!==t.isGeneric&&!t.metadata.showBanner,l=t.promptType===rt.EMAIL_2SV_UPSELL&&!0!==t.isGeneric&&!t.metadata.showBanner;t.promptType===rt.AUTHENTICATOR_UPSELL||c?s=Fo.AUTHENTICATOR_UPSELL_OPENING:t.promptType===rt.ACCOUNT_RESTORES_POLICY_UPSELL?s=Fo.ACCOUNT_RESTORE_POLICY_UPSELL:t.promptType===rt.EMAIL_2SV_UPSELL&&l&&(s=Fo.EMAIL_2SV_UPSELL);var d=(0,R.useState)((function(){return function(e,t){return{Action:{AbortDismissForeverAddEmail:e("Action.AbortDismissForeverAddEmail"),AbortDismissForeverChangePassword:e("Action.AbortDismissForeverChangePassword"),AccountRestoreOpenSettings:e("Action.OpenSettings"),AuthenticatorUpsellSetupAuthenticatorButtonMessage:e("Label.AuthenticatorUpsellSetupAuthenticatorButtonMessage"),AuthenticatorUpsellNextButtonMessage:e("Action.AuthenticatorUpsellNextButtonMessage"),ChangeEmail:e("Action.ChangeEmail"),ConfirmDismissForeverAddEmail:e("Action.ConfirmDismissForeverAddEmail"),ConfirmDismissForeverChangePassword:e("Action.ConfirmDismissForeverChangePassword"),ContinueAddEmail:e("Action.ContinueAddEmail"),ContinueChangePassword:e("Action.ContinueChangePassword"),DismissForever:e("Action.DismissForever"),RemindMeLater:e("Action.RemindMeLater"),ResendPasswordResetEmail:e("Action.ResendPasswordResetEmail"),SecureAccount:e("Action.SecureAccount"),SetUpAuthenticatorInBanner:e("Action.SetUpAuthenticatorInBanner"),SetUpAuthenticatorAccountRestoresPolicyUpsell:e("Action.SetUpAuthenticatorAccountRestoresPolicyUpsell"),SetUpEmail2SV:e("Action.SetUpEmail2SV"),SubmitChangePassword:e("Action.SubmitChangePassword"),UnlockAccountPin:e("Action.UnlockAccountPin")},Message:{Error:{Email:{FeatureDisabled:e("Message.Error.Email.FeatureDisabled"),TooManyAccountsOnEmail:e("Message.Error.Email.TooManyAccountsOnEmail"),TooManyAttemptsToUpdateEmail:e("Message.Error.Email.TooManyAttemptsToUpdateEmail"),InvalidEmailAddress:e("Message.Error.Email.InvalidEmailAddress"),Default:e("Message.Error.Email.Default")},Input:{InvalidEmail:e("Message.Error.Input.InvalidEmail"),PasswordsDoNotMatch:e("Message.Error.Input.PasswordsDoNotMatch")},Passwords:{Flooded:e("Message.Error.Password.Flooded"),InvalidPassword:e("Message.Error.Password.InvalidPassword"),InvalidCurrentPassword:e("Message.Error.Password.InvalidCurrentPassword"),PinLocked:e("Message.Error.Password.PinLocked"),Default:e("Message.Error.Password.Default")},PasswordReset:{UserDoesNotHaveEmail:e("Message.Error.PasswordReset.UserDoesNotHaveEmail"),Default:e("Message.Error.PasswordReset.Default")},PasswordValidation:{WeakPassword:e("Message.Error.PasswordValidation.WeakPassword"),ShortPassword:e("Message.Error.PasswordValidation.ShortPassword"),PasswordSameAsUsername:e("Message.Error.PasswordValidation.PasswordSameAsUsername"),ForbiddenPassword:e("Message.Error.PasswordValidation.ForbiddenPassword"),DumbStrings:e("Message.Error.PasswordValidation.DumbStrings"),Default:e("Message.Error.PasswordValidation.Default")},Pin:{NoAccountPin:e("Message.Error.Pin.NoAccountPin"),AccountLocked:e("Message.Error.Pin.AccountLocked"),Flooded:e("Message.Error.Pin.Flooded"),IncorrectPin:e("Message.Error.Pin.IncorrectPin"),Default:e("Message.Error.Pin.Default")},PromptAssignments:{Default:e("Message.Error.PromptAssignments.Default")}}},Description:{AccountRestoresPolicyUpdateV3:function(t){return e("Description.AccountRestoresPolicyUpdateV3",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},AccountRestoresPolicyUpsellMessageBody:function(t){return e("Description.AccountRestoresPolicyUpsellMessageBody",{linkStartSettings:'<a href="'+t+'" class="text-link" target="_blank">',linkEndSettings:"</a>"})},AccountRestoresPolicyWithDate:function(t){return e("Description.AccountRestoresPolicyWithDate",{date:t})},AddYourEmail:e(t?"Description.AddYourEmailUnder13":"Description.AddYourEmail"),AreYouSureDismissForeverAddEmail:e(t?"Description.AreYouSureDismissForeverAddEmailUnder13":"Description.AreYouSureDismissForeverAddEmail"),AreYouSureDismissForeverChangePassword:e("Description.AreYouSureDismissForeverChangePassword"),AuthenticatorSetupPrompt:function(t){return e("Description.AuthenticatorSetupPrompt",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},AuthenticatorSetupPromptNew:function(t){return e("Description.AuthenticatorSetupPromptNew",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},ChangeYourPassword:e("Description.ChangeYourPassword"),ChangeYourPasswordImmediately:e("Description.ChangeYourPasswordImmediately"),ChangeYourPasswordSuccess:e("Description.ChangeYourPasswordSuccess"),CheckYourEmail:function(n){return e(t?"Description.CheckYourEmailUnder13":"Description.CheckYourEmail",{emailAddress:"<b>"+n+"</b>"})},Email2SVUpsellMessageBody:function(t){return e("Description.Email2SVUpsellMessageBody",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},EnterYourAccountPin:e("Description.EnterYourAccountPin"),GenericTextOnlyBanner:function(t){return e(t)},LearnMoreHere:function(t){return e("Description.LearnMoreHere",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},NoChangeForceReset:function(t){return e(t<=1?"Description.NoChangeForceResetSingular":"Description.NoChangeForceReset",{days:t,boldStart:"<b>",boldEnd:"</b>"}).replace("1",t<1?"< 1":"1")},ReceiveSecurityCodesMessage:e("Description.ReceiveSecurityCodesMessage"),UnusualActivity:e("Description.UnusualActivity")},Header:{AccountPinExpired:e("Header.AccountPinExpired"),AccountPinRequired:e("Header.AccountPinRequired"),AccountRestoresPolicyUpdate:e("Header.AccountRestoresPolicyUpdate"),AccountRestoresPolicyUpdateV3:e("Header.AccountRestoresPolicyUpdateV3"),AccountRestoresPolicyUpsell:e("Header.AccountRestoresPolicyUpsell"),AddYourEmail:e(t?"Header.AddYourEmailUnder13":"Header.AddYourEmail"),AreYouSure:e("Header.AreYouSure"),AuthenticatorUpsellDownloadAuthenticator:e("Header.AuthenticatorUpsellDownloadAuthenticator"),AuthenticatorUpsellWelcomeMessage:e("Header.AuthenticatorUpsellWelcomeMessage"),BoostYourAccountSecurity:e("Header.BoostYourAccountSecurity"),ChangeYourPassword:e("Header.ChangeYourPassword"),CheckYourEmail:e(t?"Header.CheckYourEmailUnder13":"Header.CheckYourEmail"),CreateAStrongPassword:e("Header.CreateAStrongPassword"),GenericTextOnlyBanner:function(t){return e(t)},Email2SVUpsell:e("Header.Email2SVUpsell"),KeepYourAccountSafeLong:e("Header.KeepYourAccountSafeLong"),Success:e("Header.Success"),UnusualActivityDetected:e("Header.UnusualActivityDetected"),YourPasswordMightBeStolen:e("Header.YourPasswordMightBeStolen")},Label:{AccountPin:e("Label.AccountPin"),AtLeastCharacters:function(t){return e("Label.AtLeastCharacters",{count:t})},AuthenticatorUpsellBadActorHeadline:e("Label.AuthenticatorUpsellBadActorHeadline"),AuthenticatorUpsellBadActorMessage:e("Label.AuthenticatorUpsellBadActorMessage"),AuthenticatorUpsellDownloadInstruction:e("Label.AuthenticatorUpsellDownloadInstruction"),AuthenticatorUpsellGoogleOption:e("Label.AuthenticatorUpsellGoogleOption"),AuthenticatorUpsellMicrosoftOption:e("Label.AuthenticatorUpsellMicrosoftOption"),AuthenticatorUpsellProtectRobuxHeadline:e("Label.AuthenticatorUpsellProtectRobuxHeadline"),AuthenticatorUpsellProtectRobuxMessage:e("Label.AuthenticatorUpsellProtectRobuxMessage"),AuthenticatorUpsellTwilioOption:e("Label.AuthenticatorUpsellTwilioOption"),AuthenticatorUpsellTwoFactorHeadline:e("Label.AuthenticatorUpsellTwoFactorHeadline"),AuthenticatorUpsellTwoFactorMessage:e("Label.AuthenticatorUpsellTwoFactorMessage"),ConfirmNewPassword:e("Label.ConfirmNewPassword"),CurrentPassword:e("Label.CurrentPassword"),IForgotMyPassword:e("Label.IForgotMyPassword"),MinutesSeconds:function(t,n){return e("Label.MinutesSeconds",{minutes:t,seconds:n})},NewPassword:e("Label.NewPassword"),TimeRemaining:e("Label.TimeRemaining"),UseAUniquePassword:e("Label.UseAUniquePassword"),YourEmail:e(t?"Label.YourEmailUnder13":"Label.YourEmail")}}}(a,r)}))[0],p=(0,R.useState)((function(){return{promptAssignment:t,username:n,resources:d,requestService:i,isFlowComplete:!1,modalState:s,lastModalState:null,emailAddress:"",accountPinUnlockedUntil:null}}))[0],f=(0,R.useReducer)(Ho,p),E=f[0],m=f[1];return(0,R.useEffect)((function(){return function(e,t,n){t!==n&&e.sendModalStateViewedEvent(t)}(o,E.modalState,E.lastModalState)}),[o,E.modalState,E.lastModalState]),I().createElement(Wo.Provider,{value:{state:E,dispatch:m}},u)},Yo=function(){var e=(0,R.useContext)(Wo);if(null===e)throw new Error("AccountSecurityPromptContext was not provided in the current scope");return e},Go=function(e){var t=parseInt(e,10);if(Number.isNaN(t)||!Number.isSafeInteger(t))return 14;var n=Math.max(0,t-Date.now());return Math.floor(n/864e5)},Ko=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Qo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Xo=function(){var e=Yo(),t=e.state,n=t.promptAssignment,r=t.resources,o=t.requestService,i=e.dispatch,a=(0,R.useState)(!1),u=a[0],s=a[1],c=function(){return Ko(void 0,void 0,Promise,(function(){var e;return Qo(this,(function(t){switch(t.label){case 0:return s(!0),[4,o.promptAssignments.updateForCurrentUser(ct.DISABLE_PROMPT,n.promptType)];case 1:return(e=t.sent()).isError&&(s(!1),console.warn(Po,"Disabling prompt failed with error",e.error&&et[e.error])),i({type:ko.DISMISS_FOREVER}),[2]}}))}))},l=function(){return Ko(void 0,void 0,Promise,(function(){var e;return Qo(this,(function(t){switch(t.label){case 0:return s(!0),[4,o.promptAssignments.updateForCurrentUser(ct.DISMISS_PROMPT,n.promptType)];case 1:return(e=t.sent()).isError&&(s(!1),console.warn(Po,"Dismissing prompt failed with error",e.error&&et[e.error])),i({type:ko.DISMISS_TEMPORARY}),[2]}}))}))},d=[rt.BROADER_AUTHENTICATOR_UPSELL.toString(),rt.ACCOUNT_RESTORES_POLICY_UPDATE_V3.toString(),rt.EMAIL_2SV_UPSELL.toString()].includes(n.promptType.toString()),p=!d,f=rt.ACCOUNT_RESTORES_POLICY_UPDATE_V3!==n.promptType,E=rt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE===n.promptType,m=[rt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE.toString(),rt.ACCOUNT_RESTORES_POLICY_UPDATE.toString(),rt.ACCOUNT_RESTORES_POLICY_UPDATE_V2.toString(),rt.ACCOUNT_RESTORES_POLICY_UPDATE_V3.toString(),rt.BROADER_AUTHENTICATOR_UPSELL.toString(),rt.EMAIL_2SV_UPSELL.toString()].includes(n.promptType.toString());n.isGeneric&&(p=n.metadata.showAlertIcon,f=!1,E=!1,m=n.metadata.showXButtonForDisable);var h,S,v=r.Action.SubmitChangePassword;if(n.promptType===rt.ACCOUNT_RESTORES_POLICY_UPDATE||n.promptType===rt.ACCOUNT_RESTORES_POLICY_UPDATE_V2?v=r.Action.AccountRestoreOpenSettings:n.promptType===rt.BROADER_AUTHENTICATOR_UPSELL?v=r.Action.SetUpAuthenticatorInBanner:n.promptType===rt.EMAIL_2SV_UPSELL&&(v=r.Action.SetUpEmail2SV),n.isGeneric)switch(n.metadata.displayType){case tt.TEXT_ONLY_BANNER:h=r.Description.GenericTextOnlyBanner(n.metadata.headerResource);break;default:h=""}else switch(n.promptType){case rt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE:h=r.Header.UnusualActivityDetected;break;case rt.CHANGE_PASSWORD__BREACHED_CREDENTIAL:h=r.Header.YourPasswordMightBeStolen;break;case rt.ACCOUNT_RESTORES_POLICY_UPDATE:h=r.Header.AccountRestoresPolicyUpdate;break;case rt.ACCOUNT_RESTORES_POLICY_UPDATE_V2:h=r.Header.KeepYourAccountSafeLong;break;case rt.ACCOUNT_RESTORES_POLICY_UPDATE_V3:h=r.Header.AccountRestoresPolicyUpdateV3;break;case rt.BROADER_AUTHENTICATOR_UPSELL:h=r.Header.BoostYourAccountSecurity;break;case rt.EMAIL_2SV_UPSELL:h=r.Header.Email2SVUpsell;break;default:h=""}if(n.isGeneric)switch(n.metadata.displayType){case tt.TEXT_ONLY_BANNER:S=r.Header.GenericTextOnlyBanner(n.metadata.bodyResource);break;default:S=""}else switch(n.promptType){case rt.ACCOUNT_RESTORES_POLICY_UPDATE:var A=new Date(n.metadata.accountRestoresPolicyEffectiveTimestamp).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});S=r.Description.AccountRestoresPolicyWithDate(A)+" "+r.Description.AuthenticatorSetupPrompt(Io);break;case rt.ACCOUNT_RESTORES_POLICY_UPDATE_V2:S=r.Description.AuthenticatorSetupPromptNew(Io);break;case rt.ACCOUNT_RESTORES_POLICY_UPDATE_V3:S=r.Description.AccountRestoresPolicyUpdateV3(Ro);break;case rt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE:S=r.Description.UnusualActivity+" "+r.Description.ChangeYourPassword;break;case rt.CHANGE_PASSWORD__BREACHED_CREDENTIAL:S=r.Description.ChangeYourPasswordImmediately+" "+r.Description.NoChangeForceReset(Go(n.metadata.forceResetTimestamp))+" "+r.Description.LearnMoreHere("https://en.help.roblox.com/hc/articles/4416940180500-Why-am-I-seeing-a-banner-asking-me-to-change-my-password-");break;case rt.BROADER_AUTHENTICATOR_UPSELL:S=r.Description.ReceiveSecurityCodesMessage;break;case rt.EMAIL_2SV_UPSELL:S=r.Description.Email2SVUpsellMessageBody(Ro);break;default:S=""}return""===h||""===S?I().createElement(I().Fragment,null):I().createElement("div",{className:"security-banner-wrapper"},I().createElement("div",{className:"security-banner"},I().createElement("div",{className:"banner-start"},p&&I().createElement("div",{className:"banner-icon"},I().createElement("div",{className:"icon-warning"})),d&&I().createElement("div",{className:"banner-icon-lock"}),I().createElement("div",{className:"banner-content"},I().createElement("h2",{className:"banner-header"},h),I().createElement("div",{className:"banner-description",dangerouslySetInnerHTML:{__html:S}})),m&&I().createElement("button",{type:"button",className:"close banner-close","aria-label":r.Action.RemindMeLater,onClick:l},I().createElement("span",{className:"icon-close"}))),I().createElement("div",{className:"banner-buttons"},E&&I().createElement("span",{className:"banner-button"},I().createElement("button",{type:"button",className:"btn-secondary-md","aria-label":r.Action.DismissForever,onClick:function(){i({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_DISMISS_CONFIRMATION})},disabled:u},r.Action.DismissForever)),f&&I().createElement("span",{className:"banner-button banner-button-last"},I().createElement("button",{type:"button",className:"btn-cta-md","aria-label":v,onClick:function(){return Ko(void 0,void 0,void 0,(function(){return Qo(this,(function(e){switch(e.label){case 0:return n.promptType!==rt.ACCOUNT_RESTORES_POLICY_UPDATE&&n.promptType!==rt.ACCOUNT_RESTORES_POLICY_UPDATE_V2?[3,2]:[4,c()];case 1:return e.sent(),window.open("/my/account#!/security?src=authpopup","_self"),[3,3];case 2:n.promptType===rt.BROADER_AUTHENTICATOR_UPSELL?i({type:ko.SET_MODAL_STATE,modalState:Fo.AUTHENTICATOR_UPSELL_OPENING}):n.promptType===rt.EMAIL_2SV_UPSELL?window.open("/my/account#!/security?src=emailhighlight","_self"):i({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_INTRO}),e.label=3;case 3:return[2]}}))}))},disabled:u},v)),m&&I().createElement(R.Fragment,null,u?I().createElement("span",{className:"banner-close icon-close spinner-circle"}):I().createElement("button",{type:"button",className:"close banner-close","aria-label":r.Action.RemindMeLater,onClick:function(){return Ko(void 0,void 0,Promise,(function(){return Qo(this,(function(e){switch(e.label){case 0:return n.promptType===rt.ACCOUNT_RESTORES_POLICY_UPDATE||n.promptType===rt.ACCOUNT_RESTORES_POLICY_UPDATE_V2||n.promptType===rt.ACCOUNT_RESTORES_POLICY_UPDATE_V3||n.isGeneric&&n.metadata.displayType===tt.TEXT_ONLY_BANNER?[4,c()]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,l()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}},I().createElement("span",{className:"icon-close"}))))))},qo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},jo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zo=function(e,t){return function(n){return qo(void 0,void 0,Promise,(function(){return jo(this,(function(r){switch(r.label){case 0:return"Enter"===n.key&&t?(n.preventDefault(),n.stopPropagation(),[4,e()]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}},Jo=function(){return Promise.resolve(null)},Zo=function(e,t,n,r){return function(o){return qo(void 0,void 0,void 0,(function(){var i;return jo(this,(function(a){switch(a.label){case 0:return[4,e.password.validate(n,o)];case 1:return(i=a.sent()).isError?[2,r]:[2,Lo(t,i.value)]}}))}))}},$o=function(e,t){return function(n){return qo(void 0,void 0,void 0,(function(){return jo(this,(function(r){return n===t?[2,Promise.resolve(null)]:[2,Promise.resolve(e)]}))}))}},ei=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return qo(void 0,void 0,void 0,(function(){var n,r;return jo(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<e.length?[4,e[n](t)]:[3,4];case 2:if(null!==(r=o.sent()))return[2,r];o.label=3;case 3:return n+=1,[3,1];case 4:return[2,null]}}))}))}},ti=function(e,t,n,r,o,i){return function(a){return qo(void 0,void 0,Promise,(function(){var u,s;return jo(this,(function(c){switch(c.label){case 0:return u=a.currentTarget.value,void 0===t||t.test(u)||(u=e),void 0!==i&&i(u),r(u),s=o,[4,n(u)];case 1:return s.apply(void 0,[c.sent()]),[2]}}))}))}},ni=function(e){var t=e.id,n=e.inputType,r=e.placeholder,o=e.disabled,i=e.value,a=e.error,u=e.canSubmit,s=e.validate,c=e.setValue,l=e.setError,d=e.handleSubmit,p=e.onChange,f=e.label,E=e.bottomLabel,m=e.inputMode,h=e.autoComplete,S=e.maxLength,v=e.validCharactersRegEx,A=e.hideFeedback,_=e.concealInput,N=e.autoFocus,T=""!==i&&null===a,O=""!==i&&null!==a,b=T||O;return I().createElement("div",{className:"input-control-wrapper"},f&&I().createElement("label",{className:"text-label xsmall",htmlFor:t},f),I().createElement(go.FormGroup,{controlId:t,className:(b?"form-has-feedback":"")+" "+(T?"form-has-success":"")+" "+(O?"form-has-error":"")},I().createElement(go.FormControl,{as:"input",className:"input-field"+(_&&i.length>0?" input-field-concealed":""),type:n,inputMode:m,autoComplete:h,maxLength:S,disabled:o,value:i,placeholder:r,onChange:ti(i,v,s,c,l,p),onKeyDown:zo(d,u),autoFocus:N}),!o&&!A&&T&&I().createElement("span",{className:"icon-checkmark-on"}),!o&&!A&&O&&I().createElement("span",{className:"icon-close"}),I().createElement("div",{className:"form-control-label bottom-label xsmall"},!o&&O?a:E||"")))},ri=function(e){var t=e.positiveButton,n=e.negativeButton,r=e.children;return I().createElement(go.Modal.Footer,null,I().createElement("div",{className:"modal-modern-footer-buttons"},null!==n&&I().createElement("button",{type:"button",className:"btn-secondary-md modal-modern-footer-button","aria-label":n.label,disabled:!n.enabled,onClick:n.action},n.content),I().createElement("button",{type:"button",className:"btn-cta-md modal-modern-footer-button","aria-label":t.label,disabled:!t.enabled,onClick:t.action},t.content)),r)};!function(e){e.BACK="BACK",e.CLOSE="CLOSE",e.HIDDEN="HIDDEN"}(xo||(xo={}));var oi=function(e){var t=e.headerText,n=e.buttonType,r=e.buttonAction,o=e.buttonEnabled,i=e.headerInfo;return I().createElement(go.Modal.Header,{useBaseBootstrapComponent:!0},function(e,t,n){switch(e){case xo.BACK:return I().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},I().createElement("span",{className:"icon-back"}));case xo.CLOSE:return I().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},I().createElement("span",{className:"icon-close"}));case xo.HIDDEN:default:return I().createElement("div",null)}}(n,r,o),I().createElement(go.Modal.Title,null,t),I().createElement("div",{className:"modal-modern-header-info"},i))},ii=function(e){return function(){return e({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_INTRO})}},ai=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ui=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},si=function(){var e=Yo(),t=e.state,n=t.resources,r=t.requestService,o=t.modalState,i=e.dispatch,a=(0,R.useState)(""),u=a[0],s=a[1],c=(0,R.useState)(null),l=c[0],d=c[1],p=(0,R.useState)(null),f=p[0],E=p[1],m=(0,R.useState)(!1),h=m[0],S=m[1],v=function(){return ai(void 0,void 0,void 0,(function(){var e;return ui(this,(function(t){switch(t.label){case 0:return E(null),S(!0),[4,r.accountPin.unlock(u)];case 1:return(e=t.sent()).isError?(S(!1),E(Mo(n,e.error)),[2]):(i({type:ko.SET_ACCOUNT_PIN_UNLOCKED_UNTIL,accountPinUnlockedUntil:Date.now()+1e3*e.value.unlockedUntil}),i({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_FORM}),[2])}}))}))},A=null===l&&""!==u,_={content:h?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):n.Action.UnlockAccountPin,label:n.Action.UnlockAccountPin,enabled:!h&&A,action:v};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:o===Fo.ACCOUNT_PIN_FORM_EXPIRED?n.Header.AccountPinExpired:n.Header.AccountPinRequired,buttonType:xo.BACK,buttonAction:ii(i),buttonEnabled:!h,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"modal-lock-icon"}),I().createElement("p",{className:"modal-margin-bottom-xlarge"},n.Description.EnterYourAccountPin),I().createElement(ni,{id:"inputAccountPin",label:n.Label.AccountPin,inputType:"password",autoComplete:"off",placeholder:"",disabled:h,value:u,setValue:s,error:l||f,setError:d,validate:Jo,canSubmit:A,handleSubmit:v,onChange:function(){return E(null)}})),I().createElement(ri,{positiveButton:_,negativeButton:null}))},ci=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},li=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},di=function(e){var t=e.closeModal,n=Yo().state,r=n.resources,o=n.requestService,i=n.promptAssignment,a=(0,R.useState)(null),u=a[0],s=a[1],c=(0,R.useState)(!1),l=c[0],d=c[1],p=function(){return ci(void 0,void 0,void 0,(function(){var e;return li(this,(function(t){switch(t.label){case 0:return[4,o.promptAssignments.updateForCurrentUser(ct.DISMISS_PROMPT,i.promptType)];case 1:return(e=t.sent()).isError&&console.warn(Po,"Dismissing Account Restores Policy Upsell prompt failed with error",e.error&&et[e.error]),[2]}}))}))},f={content:l?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.SetUpAuthenticatorAccountRestoresPolicyUpsell,label:r.Action.SetUpAuthenticatorAccountRestoresPolicyUpsell,enabled:!l,action:function(){return ci(void 0,void 0,void 0,(function(){return li(this,(function(e){switch(e.label){case 0:return s(null),d(!0),[4,p()];case 1:return e.sent(),window.open("/my/account#!/security?src=authpopup","_self"),[2]}}))}))}};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:r.Header.AccountRestoresPolicyUpsell,buttonType:xo.CLOSE,buttonAction:function(){return ci(void 0,void 0,void 0,(function(){return li(this,(function(e){switch(e.label){case 0:return t(),[4,p()];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!0,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"modal-lock-icon"}),I().createElement("p",{className:"modal-margin-bottom-sm",dangerouslySetInnerHTML:{__html:r.Description.AccountRestoresPolicyUpsellMessageBody(Ro)}}),I().createElement("p",{className:"text-error xsmall"},u)),I().createElement(ri,{positiveButton:f,negativeButton:null}))},pi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},fi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ei=function(e){var t=e.closeModal,n=Yo().state,r=n.resources,o=n.requestService,i=n.promptAssignment,a=(0,R.useState)(null),u=a[0],s=a[1],c=(0,R.useState)(!1),l=c[0],d=c[1],p=function(){return pi(void 0,void 0,void 0,(function(){var e;return fi(this,(function(t){switch(t.label){case 0:return[4,o.promptAssignments.updateForCurrentUser(ct.DISMISS_PROMPT,i.promptType)];case 1:return(e=t.sent()).isError&&console.warn(Po,"Dismissing Authenticator Upsell prompt failed with error",e.error&&et[e.error]),[2]}}))}))},f={content:l?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.AuthenticatorUpsellNextButtonMessage,label:r.Action.AuthenticatorUpsellNextButtonMessage,enabled:!l,action:function(){return pi(void 0,void 0,void 0,(function(){return fi(this,(function(e){switch(e.label){case 0:return s(null),d(!0),[4,p()];case 1:return e.sent(),window.open("/my/account#!/security?src=authpopup","_self"),[2]}}))}))}};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:r.Header.AuthenticatorUpsellDownloadAuthenticator,buttonType:xo.CLOSE,buttonAction:function(){return pi(void 0,void 0,void 0,(function(){return fi(this,(function(e){switch(e.label){case 0:return t(),[4,p()];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!l,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",null,I().createElement("p",null,r.Label.AuthenticatorUpsellDownloadInstruction)),I().createElement("div",{className:"authenticator-upsell-download-grid"},I().createElement("div",{className:"grid-container"},I().createElement("div",{className:"grid-item"},I().createElement("div",{className:"modal-checkmark-icon"})),I().createElement("div",{className:"grid-item"},I().createElement("div",null,r.Label.AuthenticatorUpsellMicrosoftOption)),I().createElement("div",{className:"grid-item"},I().createElement("div",{className:"modal-checkmark-icon"})),I().createElement("div",{className:"grid-item"},I().createElement("div",null,r.Label.AuthenticatorUpsellGoogleOption)),I().createElement("div",{className:"grid-item"},I().createElement("div",{className:"modal-checkmark-icon"})),I().createElement("div",{className:"grid-item"},I().createElement("div",null,r.Label.AuthenticatorUpsellTwilioOption)))),I().createElement("p",{className:"text-error xsmall"},u)),I().createElement(ri,{positiveButton:f,negativeButton:null}))},mi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},hi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Si=function(e){var t=e.closeModal,n=Yo(),r=n.state,o=r.resources,i=r.requestService,a=r.promptAssignment,u=n.dispatch,s=(0,R.useState)(null),c=s[0],l=s[1],d=(0,R.useState)(!1),p=d[0],f=d[1],E={content:p?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):o.Action.AuthenticatorUpsellSetupAuthenticatorButtonMessage,label:o.Action.AuthenticatorUpsellSetupAuthenticatorButtonMessage,enabled:!p,action:function(){return mi(void 0,void 0,void 0,(function(){var e;return hi(this,(function(t){switch(t.label){case 0:return l(null),f(!0),[4,i.accountPin.getState()];case 1:return(e=t.sent()).isError?(f(!1),l(Mo(o,e.error)),[2]):(u({type:ko.SET_MODAL_STATE,modalState:Fo.AUTHENTICATOR_UPSELL_DOWNLOAD_APPS}),[2])}}))}))}};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:o.Header.AuthenticatorUpsellWelcomeMessage,buttonType:xo.CLOSE,buttonAction:function(){return mi(void 0,void 0,void 0,(function(){return hi(this,(function(e){switch(e.label){case 0:return t(),[4,mi(void 0,void 0,void 0,(function(){var e;return hi(this,(function(t){switch(t.label){case 0:return[4,i.promptAssignments.updateForCurrentUser(ct.DISMISS_PROMPT,a.promptType)];case 1:return(e=t.sent()).isError&&console.warn(Po,"Dismissing Authenticator Upsell prompt failed with error",e.error&&et[e.error]),[2]}}))}))];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!p,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"authenticator-upsell-intro-grid"},I().createElement("div",{className:"grid-container"},I().createElement("div",{className:"grid-item"},I().createElement("div",{className:"modal-two-factors-icon"})),I().createElement("div",{className:"grid-item"},I().createElement("b",null,o.Label.AuthenticatorUpsellTwoFactorHeadline),I().createElement("div",null,o.Label.AuthenticatorUpsellTwoFactorMessage)),I().createElement("div",{className:"grid-item"},I().createElement("div",{className:"modal-protect-icon"})),I().createElement("div",{className:"grid-item"},I().createElement("b",null,o.Label.AuthenticatorUpsellProtectRobuxHeadline),I().createElement("div",null,o.Label.AuthenticatorUpsellProtectRobuxMessage)),I().createElement("div",{className:"grid-item"},I().createElement("div",{className:"modal-keep-bad-icon"})),I().createElement("div",{className:"grid-item"},I().createElement("b",null,o.Label.AuthenticatorUpsellBadActorHeadline),I().createElement("div",null,o.Label.AuthenticatorUpsellBadActorMessage)))),I().createElement("p",{className:"text-error xsmall"},c)),I().createElement(ri,{positiveButton:E,negativeButton:null}))},vi=function(e){var t=e.closeModal,n=Yo().state.resources;return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:n.Header.Success,buttonType:xo.CLOSE,buttonAction:t,buttonEnabled:!0,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"modal-lock-icon"}),I().createElement("p",{className:"modal-margin-bottom-large"},n.Description.ChangeYourPasswordSuccess)))},Ai=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},_i=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ni=function(){var e=Yo(),t=e.state,n=t.username,r=t.resources,o=t.requestService,i=t.accountPinUnlockedUntil,a=e.dispatch,u=(0,R.useState)(""),s=u[0],c=u[1],l=(0,R.useState)(null),d=l[0],p=l[1],f=(0,R.useState)(""),E=f[0],m=f[1],h=(0,R.useState)(null),S=h[0],v=h[1],A=(0,R.useState)(""),_=A[0],N=A[1],T=(0,R.useState)(null),O=T[0],b=T[1],C=(0,R.useState)(null),P=C[0],w=C[1],U=(0,R.useState)(!1),D=U[0],g=U[1],L=(0,R.useState)(!1),M=L[0],k=L[1],F=(0,R.useState)(0),x=F[0],V=F[1],H=(0,R.useState)(0),W=H[0],B=H[1],Y=function(){return w(null)},G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){return e(t)}))}},K=function(){return Ai(void 0,void 0,void 0,(function(){var e,t;return _i(this,(function(n){switch(n.label){case 0:return w(null),k(!0),[4,o.password.changeForCurrentUser(s,E)];case 1:return(e=n.sent()).isError?(k(!1),e.error===Pe.PIN_LOCKED?(a({type:ko.SET_MODAL_STATE,modalState:Fo.ACCOUNT_PIN_FORM_EXPIRED}),[2]):(e.error===Pe.INVALID_CURRENT_PASSWORD?g(!0):g(!1),w(function(e,t){switch(t){case Pe.FLOODED:return e.Message.Error.Passwords.Flooded;case Pe.INVALID_PASSWORD:return e.Message.Error.Passwords.InvalidPassword;case Pe.INVALID_CURRENT_PASSWORD:return e.Message.Error.Passwords.InvalidCurrentPassword;case Pe.PIN_LOCKED:return e.Message.Error.Passwords.PinLocked;default:return e.Message.Error.Passwords.Default}}(r,e.error)),[2])):null===i?[3,3]:[4,o.accountPin.lock()];case 2:(t=n.sent()).isError&&t.error!==y.ACCOUNT_LOCKED||a({type:ko.SET_ACCOUNT_PIN_UNLOCKED_UNTIL,accountPinUnlockedUntil:null}),n.label=3;case 3:return a({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_CONFIRMATION}),[2]}}))}))};(0,R.useEffect)((function(){var e,t=function(){if(null!==i)if(Date.now()<i){var t=(i-Date.now())/1e3;V(Math.floor(t/60)),B(Math.floor(t%60))}else a({type:ko.SET_MODAL_STATE,modalState:Fo.ACCOUNT_PIN_FORM_EXPIRED});else clearInterval(e)};return t(),e=setInterval(t,1e3),function(){return clearInterval(e)}}),[i,V,B,a]);var Q=""!==s&&null===d&&""!==E&&null===S&&""!==_&&null===O,X={content:M?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.SubmitChangePassword,label:r.Action.SubmitChangePassword,enabled:!M&&Q,action:K},q=I().createElement("a",{href:"https://en.help.roblox.com/hc/articles/203313070-I-Forgot-My-Password",className:"bottom-label-link",target:"_blank",rel:"noreferrer"},r.Label.IForgotMyPassword),j=I().createElement(R.Fragment,null,I().createElement("div",{className:"shield-check-icon xsmall"}),I().createElement("div",{className:"bottom-label-text-with-start-margin text-label xsmall"},r.Label.UseAUniquePassword));return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:r.Header.CreateAStrongPassword,buttonType:xo.BACK,buttonAction:ii(a),buttonEnabled:!M,headerInfo:null!==i?I().createElement(I().Fragment,null,I().createElement("p",{className:"small modal-modern-header-info-line"},r.Label.TimeRemaining),I().createElement("p",{className:"small modal-modern-header-info-line",style:{fontFamily:"monospace, monospace"}},x.toString().padStart(2,"0"),":",W.toString().padStart(2,"0"))):null}),I().createElement(go.Modal.Body,null,I().createElement(ni,{id:"inputCurrentPassword",label:r.Label.CurrentPassword,bottomLabel:q,inputType:"password",autoComplete:"current-password",placeholder:"",disabled:M,value:s,setValue:c,error:d||D&&P||null,setError:p,validate:Jo,canSubmit:Q,handleSubmit:K,onChange:Y}),I().createElement(ni,{id:"inputNewPassword",label:r.Label.NewPassword,bottomLabel:j,inputType:"password",autoComplete:"new-password",placeholder:r.Label.AtLeastCharacters(8),disabled:M,value:E,setValue:m,error:S,setError:G((function(){return b(null)}),v),validate:ei(Zo(o,r,n,r.Message.Error.PasswordValidation.Default),""!==_?$o(r.Message.Error.Input.PasswordsDoNotMatch,_):Jo),canSubmit:Q,handleSubmit:K,onChange:Y}),I().createElement(ni,{id:"inputNewPasswordAgain",label:r.Label.ConfirmNewPassword,inputType:"password",autoComplete:"new-password",placeholder:"",disabled:M,value:_,setValue:N,error:O||!D&&P||null,setError:G((function(){return v(null)}),b),validate:ei($o(r.Message.Error.Input.PasswordsDoNotMatch,E),Zo(o,r,n,r.Message.Error.PasswordValidation.Default)),canSubmit:Q,handleSubmit:K,onChange:Y})),I().createElement(ri,{positiveButton:X,negativeButton:null}))},Ti=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Oi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},bi=function(e){var t=e.closeModal,n=Yo(),r=n.state,o=r.promptAssignment,i=r.resources,a=r.requestService,u=n.dispatch,s=(0,R.useState)(null),c=s[0],l=s[1],d=(0,R.useState)(!1),p=d[0],f=d[1],E="An unexpected issue occurred while displaying this text.";o.isGeneric||(E=o.promptType!==rt.CHANGE_PASSWORD__BREACHED_CREDENTIAL?i.Description.UnusualActivity+" "+i.Description.ChangeYourPassword:i.Description.ChangeYourPasswordImmediately+" "+i.Description.NoChangeForceReset(Go(o.metadata.forceResetTimestamp)));var m={content:p?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):i.Action.ContinueChangePassword,label:i.Action.ContinueChangePassword,enabled:!p,action:function(){return Ti(void 0,void 0,void 0,(function(){var e,t;return Oi(this,(function(n){switch(n.label){case 0:return l(null),f(!0),[4,a.accountPin.getState()];case 1:return(e=n.sent()).isError?(f(!1),l(Mo(i,e.error)),[2]):(t=null!==e.value.unlockedUntil&&e.value.unlockedUntil>0,!e.value.isEnabled||t?(u({type:ko.SET_ACCOUNT_PIN_UNLOCKED_UNTIL,accountPinUnlockedUntil:null!==e.value.unlockedUntil?Date.now()+1e3*e.value.unlockedUntil:null}),u({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_FORM}),[2]):(u({type:ko.SET_MODAL_STATE,modalState:Fo.ACCOUNT_PIN_FORM}),[2]))}}))}))}};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:i.Header.ChangeYourPassword,buttonType:xo.CLOSE,buttonAction:t,buttonEnabled:!p,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"modal-lock-icon"}),I().createElement("p",{className:"modal-margin-bottom",dangerouslySetInnerHTML:{__html:E}}),I().createElement("p",{className:"text-error xsmall"},c)),I().createElement(ri,{positiveButton:m,negativeButton:null}))},Ci=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},yi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Pi=function(e){var t=e.closeModal,n=Yo(),r=n.state,o=r.promptAssignment,i=r.resources,a=r.requestService,u=n.dispatch,s=(0,R.useState)(!1),c=s[0],l=s[1],d=i.Description.AreYouSureDismissForeverChangePassword,p=i.Action.ConfirmDismissForeverChangePassword,f=i.Action.AbortDismissForeverChangePassword,E={content:f,label:f,enabled:!c,action:function(){u({type:ko.SET_MODAL_STATE,modalState:Fo.CHANGE_PASSWORD_INTRO})}},m={content:c?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):p,label:p,enabled:!c,action:function(){return Ci(void 0,void 0,void 0,(function(){var e;return yi(this,(function(n){switch(n.label){case 0:return l(!0),[4,a.promptAssignments.updateForCurrentUser(ct.DISABLE_PROMPT,o.promptType)];case 1:return(e=n.sent()).isError?(l(!1),console.warn(Po,"Disabling prompt failed with error",e.error&&et[e.error]),[2]):(u({type:ko.DISMISS_FOREVER}),t(),[2])}}))}))}};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:i.Header.AreYouSure,buttonType:xo.HIDDEN,buttonAction:t,buttonEnabled:!0,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"modal-lock-icon"}),I().createElement("p",null,d)),I().createElement(ri,{positiveButton:E,negativeButton:m}))},wi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Ri=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ii=function(e){var t=e.closeModal,n=Yo().state,r=n.resources,o=n.requestService,i=n.promptAssignment,a=(0,R.useState)(null),u=a[0],s=a[1],c=(0,R.useState)(!1),l=c[0],d=c[1],p=function(){return wi(void 0,void 0,void 0,(function(){var e;return Ri(this,(function(t){switch(t.label){case 0:return[4,o.promptAssignments.updateForCurrentUser(ct.DISMISS_PROMPT,i.promptType)];case 1:return(e=t.sent()).isError&&console.warn(Po,"Dismissing Account Restores Policy Upsell prompt failed with error",e.error&&et[e.error]),[2]}}))}))},f={content:l?I().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.SetUpEmail2SV,label:r.Action.SetUpEmail2SV,enabled:!l,action:function(){return wi(void 0,void 0,void 0,(function(){return Ri(this,(function(e){switch(e.label){case 0:return s(null),d(!0),[4,p()];case 1:return e.sent(),window.open("/my/account#!/security?src=emailhighlight","_self"),[2]}}))}))}};return I().createElement(I().Fragment,null,I().createElement(oi,{headerText:r.Header.Email2SVUpsell,buttonType:xo.CLOSE,buttonAction:function(){return wi(void 0,void 0,void 0,(function(){return Ri(this,(function(e){switch(e.label){case 0:return t(),[4,p()];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!0,headerInfo:null}),I().createElement(go.Modal.Body,null,I().createElement("div",{className:"modal-lock-icon"}),I().createElement("p",{className:"modal-margin-bottom-sm",dangerouslySetInnerHTML:{__html:r.Description.Email2SVUpsellMessageBody(Ro)}}),I().createElement("p",{className:"text-error xsmall"},u)),I().createElement(ri,{positiveButton:f,negativeButton:null}))},Ui=function(){var e=Yo(),t=e.state,n=t.isFlowComplete,r=t.modalState,o=t.promptAssignment,i=e.dispatch,a=(0,R.useState)(!0),u=a[0],s=a[1],c=function(){return s(!1)},l=function(e){switch(e){case Fo.CHANGE_PASSWORD_INTRO:return{innerFragment:bi,canClickBackdropToClose:!0};case Fo.CHANGE_PASSWORD_FORM:return{innerFragment:Ni,canClickBackdropToClose:!1};case Fo.ACCOUNT_PIN_FORM:case Fo.ACCOUNT_PIN_FORM_EXPIRED:return{innerFragment:si,canClickBackdropToClose:!1};case Fo.CHANGE_PASSWORD_CONFIRMATION:return{innerFragment:vi,canClickBackdropToClose:!0};case Fo.CHANGE_PASSWORD_DISMISS_CONFIRMATION:return{innerFragment:Pi,canClickBackdropToClose:!1};case Fo.AUTHENTICATOR_UPSELL_OPENING:return{innerFragment:Si,canClickBackdropToClose:!1};case Fo.AUTHENTICATOR_UPSELL_DOWNLOAD_APPS:return{innerFragment:Ei,canClickBackdropToClose:!1};case Fo.ACCOUNT_RESTORE_POLICY_UPSELL:return{innerFragment:di,canClickBackdropToClose:!1};case Fo.EMAIL_2SV_UPSELL:return{innerFragment:Ii,canClickBackdropToClose:!1};default:return null}}(r),d=o.promptType===rt.AUTHENTICATOR_UPSELL||o.promptType===rt.ACCOUNT_RESTORES_POLICY_UPSELL||o.promptType===rt.BROADER_AUTHENTICATOR_UPSELL&&!0!==o.isGeneric&&!o.metadata.showBanner||o.promptType===rt.EMAIL_2SV_UPSELL&&!0!==o.isGeneric&&!o.metadata.showBanner;return I().createElement(I().Fragment,null,!n&&!d&&I().createElement(Xo,null),l&&I().createElement(go.Modal,{className:"modal-modern modal-modern-security-prompt",show:u,onHide:c,onExited:function(){i({type:ko.SET_MODAL_STATE,modalState:Fo.NONE}),s(!0)},backdrop:l.canClickBackdropToClose?void 0:"static"},I().createElement(l.innerFragment,{closeModal:c})))},Di=(0,yo.withTranslations)((function(e){var t=e.promptAssignment,n=e.username,r=e.isUserUnder13,o=e.eventService,i=e.requestService,a=e.translate;return I().createElement(Bo,{promptAssignment:t,username:n,isUserUnder13:r,eventService:o,requestService:i,translate:a},I().createElement(Ui,null))}),{common:[],feature:"Feature.AccountSecurityPrompt"}),gi=function(){function e(e){this.promptType=e}return e.prototype.sendModalStateViewedEvent=function(e){w().EventStream.SendEventWithTarget(Uo,Do.modalStateViewed,{promptType:this.promptType,state:e},w().EventStream.TargetTypes.WWW)},e}(),Li=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Mi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ki=new Co,Fi=function(e,t,n){var r=document.getElementById("account-security-prompt-container");if(null!==r){(0,U.unmountComponentAtNode)(r);var o=new gi(e.promptType);(0,U.render)(I().createElement(Di,{promptAssignment:e,username:t,isUserUnder13:n,eventService:o,requestService:ki}),r)}};P.CurrentUser&&P.CurrentUser.isAuthenticated&&"unknown"===(0,P.DeviceMeta)().appType&&(Object.assign(w(),{AccountSecurityPrompt:{render:Fi,PromptType:rt}}),Li(void 0,void 0,Promise,(function(){var e,t,n,r,o;return Mi(this,(function(i){switch(i.label){case 0:return[4,ki.promptAssignments.getAllForCurrentUser()];case 1:if((e=i.sent()).isError)return console.warn(Po,"Retrieving prompt assignments failed with error",e.error&&et[e.error]),[2];if(0===(t=e.value).length)return console.log(Po,"No assignments were retrieved"),[2];if(window.location.href.includes(wo)||window.location.href.includes(".com/my/account"))return[2];for(n=null,r=0;r<t.length;r++){if((o=t[r]).promptType!==rt.BROADER_AUTHENTICATOR_UPSELL&&o.promptType!==rt.EMAIL_2SV_UPSELL||!1!==o.isGeneric||o.metadata.pageRestriction!==nt.HOME_PAGE_ONLY||window.location.href.includes(".com/home")){n=o;break}n=null}return null===n||Fi(n,P.CurrentUser.name,P.CurrentUser.isUnder13),[2]}}))})))}();
//# sourceMappingURL=https://js.rbxcdn.com/1cd730b7f82e58e29bc494ef045323f2-accountSecurityPrompt.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AccountSecurityPrompt");